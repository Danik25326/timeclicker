/* ===== БАЗОВІ СТИЛІ ===== */
:root{--bg1:#0b1220;--neon:#0ea5e9;--accent:#ec4899;--glass:rgba(15,23,42,0.6)}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Poppins',sans-serif;background:radial-gradient(circle at center,var(--bg1),#050810);color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;overflow-x:hidden;line-height:1.6}

/* ===== ЗАГОЛОВКИ ТА КНОПКИ ВИБОРУ ===== */
.editable-title{position:absolute;top:20px;left:50%;transform:translateX(-50%);font-weight:700;font-size:38px;color:#fff;text-shadow:0 0 20px var(--neon);cursor:text;user-select:text;z-index:30;white-sace:nowrap}
#chooser{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:30px;text-align:center;min-height:auto; padding-top: 20px !important; }
.choose-btn{padding:25px 60px;font-size:28px;background:linear-gradient(90deg,#0ea5e9,#3b82f6);border:none;border-radius:20px;color:white;cursor:pointer;transition:all .3s;box-shadow:0 0 40px rgba(14,165,233,.7);font-weight:700;min-width:280px;text-shadow:0 0 10px rgba(255,255,255,.5)}
.choose-btn:hover{transform:scale(1.15);box-shadow:0 0 60px rgba(14,165,233,.9)}
#chooser h1{font-size:48px;color:#fff;text-shadow:0 0 30px #0ea5e9;margin-bottom:0px}

/* ===== СИСТЕМА ВКЛАДОК ===== */
.top-tabs{position:absolute;top:78px;left:50%;transform:translateX(-50%);display:flex;gap:10px;z-index:20;background:rgba(15,23,42,0.9);padding:12px 24px;border-radius:50px;backdrop-filter:blur(14px);box-shadow:0 10px 40px rgba(0,0,0,0.7)}
.top-tabs .tab{padding:11px 20px;font-size:14px;min-width:96px;background:transparent;border:none;color:#cfeaff;cursor:pointer;border-radius:50px;transition:all .2s}
.top-tabs .tab.active{background:var(--neon);color:#000;font-weight:700}

/* ===== ОСНОВНА СТРУКТУРА ===== */
.container{display:flex;gap:32px;width:min(1350px,95vw);margin-top:100px}
.left-panel{width:500px;background:var(--glass);border-radius:16px;padding:20px;box-shadow:0 10px 40px rgba(0,0,0,0.7);backdrop-filter:blur(10px)}
.tab-body{min-height:580px}
.tab-page{display:none}.tab-page.active{display:block}

/* ===== АПГРЕЙДИ ТА КНОПКИ ===== */
.upgrades-container{display:flex;flex-direction:column;gap:12px;max-height:560px;overflow:auto;padding-right:8px}
.upgrade-btn{background:linear-gradient(90deg,var(--neon),#3b82f6);border:none;color:white;font-size:15px;padding:12px 14px;border-radius:12px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:transform .15s,opacity .15s}
.upgrade-btn span{float:right;opacity:.9;font-weight:600}
.upgrade-btn:disabled{opacity:.45;cursor:not-allowed}
.upgrade-btn:hover:not(:disabled){transform:translateY(-4px)}
.upgrade-btn.hidden{display:none}

/* ===== СКІНИ ТА ДОСЯГНЕННЯ ===== */
.skins-section h4{margin:24px 0 10px 0;color:#bfe9ff;font-size:16px}
.skins-grid{display:flex;gap:14px;flex-wrap:wrap;margin-bottom:20px}
.skin{width:100px;height:100px;border-radius:14px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,0.6);border:4px solid transparent;font-size:13px;text-align:center;background:#0f1724;transition:border .2s}
.skin.active{border:4px solid var(--neon);box-shadow:0 0 20px var(--neon)}
.achievements-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.achievement{background:#0f1724;padding:14px;border-radius:12px;text-align:center;position:relative;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.4)}
.ach-progress{position:absolute;bottom:0;left:0;height:8px;background:var(--neon);width:0%;transition:width .6s ease}
.ach-state{margin-top:12px;font-weight:700;font-size:15px;color:#ffd}

/* ===== ПРАВА ПАНЕЛЬ - ГОДИННИК ===== */
.right-panel{width:560px;display:flex;flex-direction:column;align-items:center;gap:20px;margin-top:60px}
#clockWrapper{position:relative}
.clock{position:relative;width:380px;height:380px;border:10px solid var(--neon);border-radius:50%;box-shadow:0 0 50px var(--neon),0 0 100px var(--neon),inset 0 0 40px rgba(14,165,233,.15);transition:all .25s;background:linear-gradient(180deg,rgba(255,255,255,.03),transparent)}
.clock.square{border-radius:16px}
.clock.diamond{clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%)}
.clock.oval{border-radius:50%/60%}

/* ===== СТРІЛКИ ГОДИННИКА ===== */
.hand,.center-dot{pointer-events:none}
.hand{position:absolute;bottom:50%;left:50%;transform-origin:bottom;transform:translateX(-50%) rotate(0deg);background:#1e3a8a;border-radius:3px}
.hour{width:10px;height:80px}
.minute{width:8px;height:120px}
.second{width:4px;height:150px;background:#ff006e !important;box-shadow:0 0 20px #ff006e,0 0 50px #ff3366 !important;animation:secondGlow 2s ease-in-out infinite alternate}
.center-dot{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:16px;height:16px;background:#ff006e;border-radius:50%;box-shadow:0 0 30px #ff006e}
@keyframes secondGlow{from{box-shadow:0 0 20px #ff006e,0 0 50px #ff3366}to{box-shadow:0 0 30px #ff006e,0 0 70px #ff3366}}

/* ===== ХМАРА КЛІКІВ ТА КОМБО ===== */
.click-cloud,#clickCloud{position:absolute;width:170px;padding:12px;background:rgba(255,255,255,.05);border-radius:14px;text-align:center;font-weight:600;font-size:15px;color:#cfeaff;box-shadow:0 8px 24px rgba(0,0,0,.6);backdrop-filter:blur(6px);pointer-events:none;transition:all .4s ease}
#clickGain{font-size:18px;color:var(--accent)}
#totalCloud{font-size:13px;color:#a8d8ff;margin-top:6px}
#comboBubble{position:absolute;top:-50px;right:-50px;width:140px;height:140px;background:rgba(236,72,153,.22);border:6px solid var(--accent);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:700;color:#fff;backdrop-filter:blur(10px);transform:scale(0);transition:transform .35s cubic-bezier(.18,.89,.32,1.28);pointer-events:none;z-index:30;box-shadow:0 0 50px rgba(236,72,153,.8)}
#comboBubble.show{transform:scale(1)}
#comboBubble.burst{animation:burstAnim .8s ease-out forwards}
#comboCount{font-size:48px;color:var(--accent);text-shadow:0 0 16px var(--accent)}
@keyframes burstAnim{0%{transform:scale(1)}50%{transform:scale(1.6)}100%{transform:scale(0);opacity:0}}

/* ===== МУЗИЧНИЙ ПЛЕЄР ===== */
#score{font-size:22px;text-shadow:0 0 14px var(--neon)}
.music-player{display:flex;gap:16px;align-items:center}
.phonk-btn,.music-switch,.reverb-btn{padding:14px 28px;border-radius:50px;border:none;color:white;font-weight:700;cursor:pointer;box-shadow:0 0 24px rgba(14,165,233,.25);transition:all .2s}
.phonk-btn{background:linear-gradient(90deg,var(--neon),#3b82f6)}
.music-switch{background:linear-gradient(90deg,#8b5cf6,#ec4899);font-size:20px;padding:14px}
.now-playing{margin-top:10px;font-size:15px;color:#cfeaff}

/* ===== СПОВІЩЕННЯ (TOAST) ===== */
#toastContainer{position:fixed;bottom:40px;left:50%;transform:translateX(-50%);z-index:100;pointer-events:none}
.toast{background:rgba(15,23,42,.98);color:#fff;padding:22px 48px;border-radius:16px;box-shadow:0 14px 50px rgba(0,0,0,.8);border-left:7px solid #8df299;font-weight:600;font-size:18px;margin-top:16px;animation:toastIn .6s ease-out,toastOut .6s 9.4s ease-in forwards;opacity:0}
@keyframes toastIn{from{transform:translateY(60px);opacity:0}to{transform:translateY(0);opacity:1}}
@keyframes toastOut{to{transform:translateY(60px);opacity:0}}

/* ===== ЕФЕКТИ КЛІКІВ ===== */
.click-effect-red{animation:clickRed .4s ease-out}
.click-effect-blue{animation:clickBlue .4s ease-out}
.click-effect-glitch{animation:glitch .6s steps(4)}
.click-effect-blackhole{animation:blackhole 1s ease-in-out}
.click-effect-ripple{animation:ripple 1s ease-out}
@keyframes clickRed{0%,100%{box-shadow:0 0 50px var(--neon)}50%{box-shadow:0 0 100px #ff3b5c,0 0 160px #ff3b5c;border-color:#ff3b5c;transform:scale(1.1)}}
@keyframes clickBlue{0%,100%{box-shadow:0 0 50px var(--neon)}50%{box-shadow:0 0 100px #0ea5e9,0 0 160px #0ea5e9;border-color:#0ea5e9;transform:scale(1.12)}}
@keyframes glitch{0%,100%{transform:translate(0)}20%{transform:translate(-10px,10px)}40%{transform:translate(10px,-10px)}60%{transform:translate(-10px,-8px)}80%{transform:translate(10px,8px)}}
@keyframes blackhole{0%{transform:scale(1)}50%{transform:scale(.85)}100%{transform:scale(1)}}
@keyframes ripple{0%{box-shadow:0 0 50px var(--neon)}100%{box-shadow:0 0 0 160px rgba(14,165,233,0)}}

/* === ВИПРАВЛЕНА СИСТЕМА ПЕРЕЗАПУСКУ (РЕВЕРБ) === */
.time-tunnel,.reverb-overlay{position:fixed;inset:0;pointer-events:none;opacity:0;transition:opacity .3s;z-index:50}
.time-tunnel.active,.reverb-overlay:not(.hidden){opacity:1;pointer-events:all}
.reverb-overlay{display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden;background:#000;z-index:999}
.reverb-overlay::before{content:"";position:absolute;inset:-100%;background:repeating-conical-gradient(from 0deg at 50% 50%,#8b00ff 0deg,transparent 10deg,transparent 350deg,#8b00ff 360deg);animation:warpTunnel 12s linear infinite;opacity:.7}
@keyframes warpTunnel{from{transform:rotate(0deg) scale(1)}to{transform:rotate(360deg) scale(2.5)}}
.reverb-instruction{margin-bottom:60px;font-size:32px;text-shadow:0 0 30px #ff00ff;z-index:10;text-align:center}
.reverb-hint{position:absolute;top:34%;left:50%;transform:translateX(-50%);background:rgba(255,59,92,.95);color:#fff;padding:20px 40px;border-radius:50px;font-size:28px;font-weight:700;z-index:1001;animation:pulseHint 1.8s infinite}
@keyframes pulseHint{0%,100%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.15)}}
#reverbClock{width:380px;height:380px;border:10px solid #ff00ff!important;box-shadow:0 0 50px #ff00ff,inset 0 0 40px rgba(255,0,255,0.4)!important;cursor:grab;z-index:10}
#restartEffectOverlay {    pointer-events: none !important;    z-index: 10000 !important;}
/* === ЛІТАЮЧІ ГОДИННИКИ === */
.flying-clock {position: absolute;background: rgba(14, 165, 233, 0.1);border: 2px solid #0ea5e9;border-radius: 50%;box-shadow: 0 0 20px #0ea5e9;animation: clockFloat linear forwards;    display: flex;    align-items: center;justify-content: center;color: white;font-size: 12px;}
@keyframes clockFloat {    0% { transform: translateY(0) rotate(0deg); opacity: 1; }                       100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }}
/* === БУЛЬБАШКИ СТАТИСТИКИ === */
.stat-bubble {    position: absolute;    background: rgba(236, 72, 153, 0.9);    color: white;    padding: 8px 12px;    border-radius: 15px;    font-size: 12px;    box-shadow: 0 0 15px rgba(236, 72, 153, 0.7);    animation: statFloat 3s ease-in forwards;    text-align: center;    max-width: 200px;}
@keyframes statFloat {    0% { transform: translateY(0) scale(0.8); opacity: 0; }    20% { transform: translateY(-20px) scale(1); opacity: 1; }    80% { transform: translateY(-60px) scale(1); opacity: 1; }    100% { transform: translateY(-80px) scale(0.8); opacity: 0; }}
/* === АНІМАЦІЯ РЕВЕРБУ - ХАОТИЧНІ СТРІЛКИ === */
#reverbClock.reverb-mode{animation:reverbPulse 1.2s ease-in-out infinite!important}
@keyframes reverbPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.15)}}
/* Стилі для окремого екрану завершення ревербу */
#reverbCompletionScreen {    background: #000 !important;    z-index: 10002 !important;}
/* Анімація вспишки */
@keyframes flashFade {    0% { opacity: 1; }    70% { opacity: 1; }    100% { opacity: 0; }}
/* Забезпечуємо, що початковий екран ревербу прихований після завершення */
.reverb-overlay.hidden {    display: none !important;}

/* ХАОТИЧНІ СТРІЛКИ */
.reverb-chaos .hand{animation:chaosSpin var(--duration,1s) linear infinite!important;animation-direction:var(--direction,normal)!important;transform-origin:bottom center!important}
@keyframes chaosSpin{0%{transform:translateX(-50%)rotate(0deg)}100%{transform:translateX(-50%)rotate(360deg)}}

/* ІНДИВІДУАЛЬНІ НАЛАШТУВАННЯ СТРІЛОК */
.reverb-chaos .hour{--duration:1.8s;--direction:normal}
.reverb-chaos .minute{--duration:0.9s;--direction:reverse}
.reverb-chaos .second{--duration:0.5s;--direction:normal}

/* ФОРМИ ГОДИННИКА В РЕВЕРБІ */
.clock.round.reverb-mode,.clock.square.reverb-mode,.clock.diamond.reverb-mode,.clock.oval.reverb-mode{animation:reverbPulse 1.2s ease-in-out infinite!important}

/* КНОПКА РЕВЕРБУ */
.reverb-btn{margin-top:30px;padding:14px 32px;background:linear-gradient(90deg,#ff006e,#ff3b5c);border:none;color:white;font-weight:700;font-size:16px;border-radius:14px;cursor:pointer;box-shadow:0 0 30px rgba(255,59,92,.6),0 6px 20px rgba(0,0,0,.4);transition:all .2s ease;text-shadow:0 0 10px rgba(255,255,255,.5)}
.reverb-btn:hover{transform:translateY(-4px);box-shadow:0 0 50px rgba(255,59,92,.9),0 10px 30px rgba(0,0,0,.5)}

/* СТРІЛКИ РЕВЕРБ ГОДИННИКА */
#reverbClock .hand{position:absolute;bottom:50%;left:50%;transform-origin:bottom center;transform:translateX(-50%)rotate(0deg);border-radius:3px;transition:transform .3s ease}
#reverbClock .hour{width:10px;height:80px;background:#1e3a8a}
#reverbClock .minute{width:8px;height:120px;background:#1e40af}
#reverbClock .second{width:4px;height:150px;background:#ff006e!important;box-shadow:0 0 20px #ff006e,0 0 50px #ff3366!important}
#reverbClock .center-dot{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:16px;height:16px;background:#ff006e;border-radius:50%;box-shadow:0 0 30px #ff006e;z-index:10}

/* ===== СКРОЛБАРИ ===== */
.upgrades-container::-webkit-scrollbar{width:10px}
.upgrades-container::-webkit-scrollbar-thumb{background:rgba(255,255,255,.12);border-radius:8px}
.upgrades-container::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.2)}

/* ===== МОБІЛЬНА ВЕРСІЯ ===== */
body.mobile-version{overflow-x:auto;}
body.mobile-version .editable-title{font-size:28px !important;top:6px;white-space:nowrap !important;overflow-x:visible !important;overflow-y:hidden !important; max-width:none !important;text-overflow:unset !important; width:auto !important;min-width:max-content !important;position:absolute;left:50%;transform:translateX(-50%);z-index:30;padding:0 20px;}
body.mobile-version .top-tabs{top:60px;width:96%;padding:8px 4px;gap:4px 6px;flex-wrap:wrap;justify-content:center}
body.mobile-version .tab{flex:1 1 30%;min-width:75px;font-size:12px;padding:8px 4px}
body.mobile-version .left-panel{width:42%;max-width:320px;margin-top:20px}
body.mobile-version .right-panel{width:54%;padding-right:5px !important;padding-left:0}
body.mobile-version .clock{width:206px;height:206px}
body.mobile-version .hand.hour{height:50px}
body.mobile-version .hand.minute{height:74px}
body.mobile-version .hand.second{height:88px}
body.mobile-version #comboBubble{width:68px;height:68px;right:6px;top:-18px}
body.mobile-version #comboCount{font-size:26px}
body.mobile-version #comboText{font-size:9px}
body.mobile-version #clickCloud{left:-8px;top:6px;width:88px;padding:5px 8px;font-size:11px}
body.mobile-version #clickGain{font-size:13px}
body.mobile-version .upgrades-container,body.mobile-version #multipliers{display:flex;overflow-x:auto;gap:10px;padding:8px 6px 16px;-webkit-overflow-scrolling:touch}
body.mobile-version .upgrades-container::-webkit-scrollbar,body.mobile-version #multipliers::-webkit-scrollbar{display:none}
body.mobile-version .upgrade-btn,.multiplier-btn{min-width:104px;padding:12px 6px;font-size:12.8px}
body.mobile-version .skins-section>.skins-grid{display:flex;overflow-x:auto;gap:14px;padding:10px 0 24px;-webkit-overflow-scrolling:touch;scroll-snap-type:x mandatory;scroll-behavior:smooth}
body.mobile-version .skin{min-width:96px;height:96px;flex:0 0 auto;font-size:12.5px;text-align:center;scroll-snap-align:center;padding-top:8px}
body.mobile-version .tab-body h3,.skins-section h4{margin:20px 0 12px;font-size:18px;color:#bfe9ff;text-align:center}
body.mobile-version #tab-skins .skins-grid{display:flex!important;flex-wrap:nowrap!important;overflow-x:auto!important;overflow-y:hidden!important;gap:14px!important;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}
body.mobile-version #tab-skins .skins-grid .skin{flex:0 0 auto!important;min-width:110px!important;height:110px!important;scroll-snap-align:center}
body.mobile-version #tab-skins .skins-grid::-webkit-scrollbar{display:none}
body.mobile-version #tab-achievements .achievements-grid{display:flex!important;flex-direction:column!important;gap:12px!important;padding:10px 0}
body.mobile-version #tab-achievements .achievement{width:100%!important;margin:0!important}
body.mobile-version #reverbClock.reverb-mode{width:218px;height:218px}
body.mobile-version #reverbClock{width:218px;height:218px}
body.mobile-version #score{font-size:14px}
body.mobile-version #currentDate{font-size:12px !important}
body.mobile-version #restartMessage{font-size:8px}
body.mobile-version .music-player{display:flex;gap:2px;justify-content:center;align-items:center;flex-wrap:nowrap;width:100%;max-width:270px;margin:0 auto}
body.mobile-version .phonk-btn{padding:8px 10px !important;font-size:11px !important;min-width:110px !important;margin:0 !important;flex-shrink:0}
body.mobile-version .music-switch{padding:8px 8px !important;font-size:12px !important;min-width:35px !important;margin:0 !important;flex-shrink:0}
body.mobile-version #musicBtn{padding:8px 10px !important;font-size:11px !important;min-width:110px !important;white-space:nowrap}
body.mobile-version .now-playing{font-size:10px;text-align:center;margin-top:5px}
body.mobile-version .music-player button{transform:none !important;transition:none !important}
body.mobile-version .music-player button:active{transform:none !important}
body.mobile-version .music-player button:hover{transform:none !important;box-shadow:none !important}
body.mobile-version #musicBtn:hover{transform:none !important;box-shadow:none !important}
body.mobile-version .reverb-instruction{font-size:20px !important;margin-bottom:30px !important;text-align:center;line-height:1.3;padding:0 10px}
body.mobile-version .reverb-hint{padding:10px 20px !important;font-size:14px !important;top:38% !important}
body.mobile-version .reverb-btn{padding:10px 20px !important;font-size:14px !important;margin-top:15px !important;width:90% !important;max-width:250px !important;display:block !important;margin-left:auto !important;margin-right:auto !important}
body.mobile-version #tab-reverb{text-align:center !important}
/* СТРІЛКИ РЕВЕРБ ГОДИННИКА */
body.mobile-version #reverbClock .hand.hour{height:50px}
body.mobile-version #reverbClock .hand.minute{height:74px}
body.mobile-version #reverbClock .hand.second{height:88px}
/* Центральна точка реверб годинника */
body.mobile-version #reverbClock .center-dot{width:12px;height:12px}
body.mobile-version .container {    gap: 16px !important; }

/* ===== СПЕЦІАЛЬНІ ЕФЕКТИ ===== */
body.eye-blink::before{content:"";position:fixed;inset:0;background:#000;z-index:999999;pointer-events:none;animation:realEyeBlink .5s ease-in-out forwards}
@keyframes realEyeBlink{0%,100%{opacity:0}25%,75%{opacity:1}}
#timeTunnel.intense{opacity:1;background:radial-gradient(circle at center,#8b5cf6 0%,#ec4899 30%,#ff006e 60%,#000 100%)}
#timeTunnel.reverb-complete{animation:finalFlash 1.5s ease-out forwards}
@keyframes finalFlash{0%{opacity:1;background:white}100%{opacity:0}}

/* ===== ДОДАТКОВІ СТИЛІ ДЛЯ СКІНІВ ===== */
#effectSkins{display:grid!important;grid-template-columns:repeat(5,1fr);gap:14px;max-width:480px;margin:0 auto}
#effectSkins .skin{width:auto;height:85px;font-size:12px;padding:8px}
#clickCloud{top:20px;right:-180px;width:170px;padding:10px 16px;background:rgba(15,23,42,.8);border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,.6);backdrop-filter:blur(8px);z-index:20}
#clickGain{font-size:19px;color:#ff006e;text-shadow:0 0 15px #ff006e;margin-bottom:4px}

/* ===== ПОКРАЩЕНІ КНОПКИ МУЗИКИ ===== */
.music-player button{position:relative;overflow:hidden;z-index:1;background:linear-gradient(90deg,#8b5cf6,#ec4899);transition:all .35s;box-shadow:0 0 20px rgba(236,72,153,.5)}
.music-player button::before{content:'';position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transform:skewX(-20deg);transition:left .8s}
.music-player button:hover::before{left:100%}
.music-player button:hover{transform:scale(1.08);box-shadow:0 0 40px rgba(236,72,153,.9),0 0 70px rgba(139,92,246,.7)}
#musicBtn{background:linear-gradient(90deg,#0ea5e9,#3b82f6)!important;padding:16px 36px!important;font-size:16px!important;box-shadow:0 0 35px #0ea5e9}
#musicBtn:hover{transform:scale(1.1);box-shadow:0 0 60px #0ea5e9,0 0 90px #0ea5e9aa}
.music-switch{background:linear-gradient(90deg,#ec4899,#f43f5e)!important;font-size:24px!important;padding:14px!important}
