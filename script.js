// === –ì–õ–û–ë–ê–õ–¨–ù–Ü –ó–ú–Ü–ù–ù–Ü ===
let score=0,clickPower=1,autoRate=0,isPlaying=0,currentTrack=0,sessionStart=Date.now(),totalUpgradesBought=0,maxPerClick=1,prestigeMultiplier=1,totalReverbs=0,maxAutoRate=0,maxCombo=0,clickCloudTotal=0,lastClickTime=0,currentCombo=0,maxComboEver=0,comboTimeout=null,MAX_CLICK_INTERVAL=350,COMBO_THRESHOLD=5,isReverbActive=0,reverbHoldTimeout=null,clickMultiplier=1,buttons=[],prestigeThreshold=3600,currentPrestigeProgress=0,reverseClockHands=false,animationsEnabled=true,gameState={v:'1.1',s:0,p:1,a:0,u:0,m:1,pm:1,tr:0,ma:0,mc:0,cct:0,pt:3600,cpp:0,cm:1,vol:45,rev:false,anim:true},firstAchievementsCheck = true;
// === DOM-–¥–æ–ø–æ–º—ñ–∂–Ω—ñ ===
const d=document,q=s=>d.querySelector(s),qa=s=>d.querySelectorAll(s),id=s=>d.getElementById(s);
// === –û–°–ù–û–í–ù–Ü –§–£–ù–ö–¶–Ü–á –ì–†–ò ===
function startGame(v){id('chooser').style.display='none';id('game').classList.remove('game-hidden');if(v==='mobile')d.body.classList.add('mobile-version');else d.body.classList.remove('mobile-version');initGame();}
function initGame(){(function(){'use strict';})();const m='ontouchstart'in window||navigator.maxTouchPoints>0;if(m){const oh=updateClockHands;let rafId,lastUpdate=0;updateClockHands=()=>{const now=Date.now();if(now-lastUpdate>=50){oh();lastUpdate=now;}rafId=requestAnimationFrame(updateClockHands);};rafId=requestAnimationFrame(updateClockHands);let f=[];const osf=showFloating;showFloating=t=>{if(f.length>=2){f.forEach((o,i)=>{if(i<f.length-1&&o.parentNode)o.parentNode.removeChild(o);});f=f.slice(-1);}const e=d.createElement("div");e.textContent=t;e.style.cssText="position:absolute;right:10px;top:30px;color:#ffccd1;font-weight:700;opacity:1;transition:all 0.7s ease-out;font-size:14px;";clockWrapper.appendChild(e);f.push(e);requestAnimationFrame(()=>{e.style.transform="translateX(40px) translateY(-50px)";e.style.opacity="0";});setTimeout(()=>{if(e.parentNode)e.parentNode.removeChild(e);f=f.filter(i=>i!==e);},700);};let tc=0;const ot=showToast;showToast=t=>{if(tc>=2)return;tc++;ot(t);setTimeout(()=>{tc=Math.max(0,tc-1);},3e3);};}initializeDOMElements();initializeSystems();startIntervals();setTimeout(()=>{updateScore();updateStats();updateReverbText();refreshAllSkinGrids();applyAllSkins(); updateAchievements();  firstAchievementsCheck = false;},100);}
function initializeDOMElements(){clock=id("clickableClock");clockWrapper=id("clockWrapper");comboBubble=id("comboBubble");comboCount=id("comboCount");clickCloudEl=id("clickCloud");musicBtn=id("musicBtn");prevTrack=id("prevTrack");nextTrack=id("nextTrack");player=id("player");scoreText=id("score");upgradesContainer=id("upgrades");multipliersContainer=id("multipliers");clickGainEl=id("clickGain");cloudTotalEl=id("cloudTotal");nowPlaying=id("nowPlaying");realTimePlayedEl=id("realTimePlayed");virtualTimeEl=id("virtualTime");totalUpgradesEl=id("totalUpgrades");maxPerClickEl=id("maxPerClick");prestigeMultEl=id("prestigeMult");reverbBtn=id("reverbBtn");timeTunnel=id("timeTunnel");worldTitle=id("worldTitle");toastContainer=id("toastContainer");reverbOverlay=id("reverbOverlay");reverbClock=id("reverbClock");reverbHint=id("reverbHint");reverbDesc=id("reverbDesc");nextMultiplierEl=id("nextMultiplier");}
function initializeSystems(){initDate();initMusic();initUpgrades();initMultipliers();initAchievements();initSkins();initReverbSystem();initTabs();initSecretSystem();initClickHandler();initSettings();}
function initDate(){function updateDate(){id("currentDate").textContent=new Date().toLocaleDateString('uk-UA');}updateDate();setInterval(updateDate,60000);}
function initMusic(){const trackNames=["–§–æ–Ω–∫ ‚Ññ1","–§–æ–Ω–∫ ‚Ññ2","–§–æ–Ω–∫ ‚Ññ3","–§–æ–Ω–∫ ‚Ññ4","–§–æ–Ω–∫ ‚Ññ5","–§–æ–Ω–∫ ‚Ññ6","–§–æ–Ω–∫ ‚Ññ7"],tracks=["asphalt-menace.mp3","digital-overdrive.mp3","drift-phonk-phonk-music-2-434611.mp3","drift-phonk-phonk-music-432222.mp3","phonk-music-409064 (2).mp3","phonk-music-phonk-2025-432208.mp3","pixel-drift.mp3"].map(x=>`musicList/${x}`);function loadTrack(i){player.src=tracks[i];nowPlaying.textContent=`–ó–∞—Ä–∞–∑: ${trackNames[i]}`;if(isPlaying)player.play();}loadTrack(0);player.addEventListener("ended",()=>{currentTrack=(currentTrack+1)%tracks.length;loadTrack(currentTrack);});musicBtn.addEventListener("click",()=>{if(!isPlaying){isPlaying=1;player.volume=0.45;player.play().catch(()=>{});musicBtn.textContent="‚è∏ –ó—É–ø–∏–Ω–∏—Ç–∏ –º—É–∑–∏–∫—É";}else{isPlaying=0;player.pause();musicBtn.textContent="‚ñ∂Ô∏è –í–∫–ª—é—á–∏—Ç–∏ –º—É–∑–∏–∫—É";}});prevTrack.onclick=()=>{currentTrack=(currentTrack-1+tracks.length)%tracks.length;loadTrack(currentTrack);};nextTrack.onclick=()=>{currentTrack=(currentTrack+1)%tracks.length;loadTrack(currentTrack);};}
function initClickHandler(){let lastClick=0;clockWrapper.addEventListener("click",e=>{const now=Date.now();if(now-lastClick<100)return;lastClick=now;if(e.target.closest("#clickableClock")||e.target===clockWrapper)addTime();});}
function addTime(){const g=Math.round(clickPower*clickMultiplier*prestigeMultiplier);score+=g;clickCloudTotal+=g;if(g>maxPerClick)maxPerClick=g;clickGainEl.textContent=`+${formatTime(g)}`;showFloating(`+${formatTime(g)}`);triggerClickEffect();handleClickCombo();updateScore();updatePrestigeProgress();}
function handleClickCombo(){const n=Date.now();if(n-lastClickTime<MAX_CLICK_INTERVAL)currentCombo++;else currentCombo=1;lastClickTime=n;if(currentCombo>maxComboEver)maxComboEver=currentCombo;if(currentCombo>=COMBO_THRESHOLD){comboCount.textContent=currentCombo;comboBubble.classList.add("show");}clearTimeout(comboTimeout);comboTimeout=setTimeout(()=>{if(currentCombo>=COMBO_THRESHOLD){comboBubble.classList.add("burst");showToast(`–ö–æ–º–±–æ √ó${currentCombo}! üî•`);setTimeout(()=>comboBubble.classList.remove("show","burst"),700);}currentCombo=0;},300);}
function triggerClickEffect(){clock.classList.remove("click-effect-red","click-effect-blue","click-effect-glitch","click-effect-blackhole","click-effect-ripple");void clock.offsetWidth;clock.classList.add("click-effect-"+current.effect);}
function showToast(t){const e=d.createElement("div");e.className="toast";e.textContent=t;e.style.cssText="font-size:18px;padding:22px 48px";toastContainer.appendChild(e);setTimeout(()=>e.remove(),10000);}
function showFloating(t){const e=d.createElement("div");e.textContent=t;e.style.cssText="position:absolute;right:20px;top:50px;color:#ffccd1;font-weight:700;opacity:1;transition:all 0.9s ease-out";clockWrapper.appendChild(e);requestAnimationFrame(()=>{e.style.transform="translateX(60px) translateY(-80px)";e.style.opacity="0";});setTimeout(()=>e.remove(),920);}
// === –ê–ü–ì–†–ï–ô–î–ò ===
const upgrades=[{n:"–ö–ª—ñ–ø–∞—Ç–∏ –æ—á–∏–º–∞",c:1,l:0},{n:"–£–≤—ñ–º–∫–Ω—É—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω",c:8,l:0},{n:"–ì–æ—Ä—Ç–∞—Ç–∏ —Å—Ç—Ä—ñ—á–∫—É",c:40,l:0},{n:"–ú–µ–º-—Ç—É—Ä",c:200,l:0},{n:"–ê–≤—Ç–æ–ø–µ—Ä–µ–≥–ª—è–¥",c:1100,l:0},{n:"–ü—ñ–¥–ø–∏—Å–∫–∞",c:6500,l:0},{n:"–°–µ—Ä—ñ–∞–ª-–º–∞—Ä–∞—Ñ–æ–Ω",c:40000,l:0},{n:"–†–æ–±–æ—Ç–∞ –∑ –¥–µ–¥–ª–∞–π–Ω–æ–º",c:250000,l:0},{n:"–ñ–∏—Ç—Ç—î–≤–∏–π –∫—Ä—ñ–Ω–∂",c:1600000,l:0},{n:"Discord-–º–∞—Ä–∞—Ñ–æ–Ω",c:10000000,l:0},{n:"Reels –¥–æ —Ä–∞–Ω–∫—É",c:65000000,l:0},{n:"–§—ñ–ª–æ—Å–æ—Ñ—Å—å–∫—ñ —Ä–æ–∑–¥—É–º–∏",c:400000000,l:0}];
function fib(n){if(n<=1)return n;let a=0,b=1;for(let i=2;i<=n;i++)[a,b]=[b,a+b];return b;}
function initUpgrades(){upgrades.forEach((u,i)=>{const b=d.createElement("button");b.className="upgrade-btn";if(i>0)b.classList.add("hidden");b.addEventListener("click",()=>buyUpgrade(i));upgradesContainer.appendChild(b);buttons.push(b);u.up=function(){const f=fib(u.l+6),c=Math.floor(u.c*f*(i+1));b.innerHTML=`${u.n} (Lv.${u.l})<span>${formatTime(c)}</span>`;b.disabled=score<c;};u.getC=function(){return Math.floor(u.c*fib(u.l+6)*(i+1));};u.up();});}
function revealNext(){const c=upgrades.filter(u=>u.l>0).length;if(buttons[c])buttons[c].classList.remove("hidden");}
function buyUpgrade(i){const u=upgrades[i],c=u.getC();if(score<c)return;score-=c;u.l++;totalUpgradesBought++;autoRate+=(i+1)*5*prestigeMultiplier;showToast(`–ö—É–ø–ª–µ–Ω–æ: ${u.n} (Lv.${u.l}) ‚úÖ`);if(u.n==="–£–≤—ñ–º–∫–Ω—É—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω")setTimeout(()=>showPhoneLockScreen(),500);if(u.n==="–ì–æ—Ä—Ç–∞—Ç–∏ —Å—Ç—Ä—ñ—á–∫—É")setTimeout(()=>handleNewsFeedUpgrade(),300);if(u.n==="–ú–µ–º-—Ç—É—Ä")setTimeout(()=>{showMeme();setTimeout(()=>{score+=1000;clickCloudTotal+=1000;showToast("–ü–æ—Å–º—ñ—à–∫–∞ –∑–∞ —Å–º—ñ—à–Ω–∏–π –º–µ–º! üòÇ");updateScore();},1500);},300);if(u.n==="–ê–≤—Ç–æ–ø–µ—Ä–µ–≥–ª—è–¥")setTimeout(()=>showAutoplay(),300);if(u.n==="–ü—ñ–¥–ø–∏—Å–∫–∞")setTimeout(()=>showSubscription(),300);if(u.n==="–°–µ—Ä—ñ–∞–ª-–º–∞—Ä–∞—Ñ–æ–Ω")setTimeout(()=>showSeriesMarathon(),300);if(u.n==="–†–æ–±–æ—Ç–∞ –∑ –¥–µ–¥–ª–∞–π–Ω–æ–º")setTimeout(()=>showDeadlineWork(),300);if(u.n==="–ñ–∏—Ç—Ç—î–≤–∏–π –∫—Ä—ñ–Ω–∂")setTimeout(()=>showCringe(),300);if(u.n==="Discord-–º–∞—Ä–∞—Ñ–æ–Ω")setTimeout(()=>showDiscord(),300);if(u.n==="Reels –¥–æ —Ä–∞–Ω–∫—É")setTimeout(()=>showReels(),300);if(u.n==="–§—ñ–ª–æ—Å–æ—Ñ—Å—å–∫—ñ —Ä–æ–∑–¥—É–º–∏")setTimeout(()=>showPhilosophy(),300);requestAnimationFrame(()=>{revealNext();u.up();updateAllButtons();updateScore();updateStats();updateAchievements();updatePrestigeProgress();});if(u.n==="–ö–ª—ñ–ø–∞—Ç–∏ –æ—á–∏–º–∞"){d.body.classList.remove("eye-blink");void d.body.offsetWidth;d.body.classList.add("eye-blink");setTimeout(()=>d.body.classList.remove("eye-blink"),1000);}}
function updateAllButtons(){upgrades.forEach(u=>u.up());multipliers.forEach(m=>m.up&&m.up());}
// === –ú–ù–û–ñ–ù–ò–ö–ò –ö–õ–Ü–ö–£ ===
const multipliers=[{n:"–ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫",c:5000,m:2,b:0},{n:"–ü–æ—Ç—Ä—ñ–π–Ω–∏–π –∫–ª—ñ–∫",c:50000,m:3,b:0},{n:"x10 –∑–∞ –∫–ª—ñ–∫",c:1000000,m:10,b:0},{n:"x50 –∑–∞ –∫–ª—ñ–∫",c:20000000,m:50,b:0},{n:"x100 –∑–∞ –∫–ª—ñ–∫",c:100000000,m:100,b:0}];
function initMultipliers(){multipliers.forEach(m=>{const b=d.createElement("button");b.className="upgrade-btn multiplier-btn";function upB(){if(m.b){b.remove();return;}const a=score>=m.c;b.innerHTML=`${m.n}<span>${formatTime(m.c)}</span>`;b.disabled=!a;b.style.background=a?"":"#334155";b.style.opacity=a?"1":"0.5";}b.addEventListener("click",()=>{if(score<m.c||m.b)return;requestAnimationFrame(()=>{score-=m.c;m.b=1;clickMultiplier=m.m;showToast(`–ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ: ${m.n}!`);upB();updateScore();updateStats();});},{passive:true});multipliersContainer.appendChild(b);m.up=upB;upB();});}
// === –û–ù–û–í–õ–ï–ù–ù–Ø –Ü–ù–¢–ï–†–§–ï–ô–°–£ ===
function updateScore(){scoreText.textContent=`–ß–∞—Å—É –≤–∏—Ç—Ä–∞—á–µ–Ω–æ: ${formatTime(score)}`;cloudTotalEl.textContent=`${formatTime(clickCloudTotal)}`;updateAllButtons();}
function updateStats(){realTimePlayedEl.textContent=formatTime((Date.now()-sessionStart)/1000);virtualTimeEl.textContent=formatTime(score);totalUpgradesEl.textContent=totalUpgradesBought;maxPerClickEl.textContent=formatTime(maxPerClick);prestigeMultEl.textContent=prestigeMultiplier.toFixed(2);id("maxAutoRate").textContent=formatTime(autoRate);id("maxCombo").textContent=maxComboEver;id("totalReverbs").textContent=totalReverbs;const a=achievementsList.filter(x=>x.done).length;id("achievedCount").textContent=a;id("totalAchievements").textContent=achievementsList.length;id("shapeSkinsCount").textContent=ownedSkins.shapes.length;id("clockSkinsCount").textContent=ownedSkins.clockSkins.length;id("handSkinsCount").textContent=ownedSkins.handSkins.length;id("effectSkinsCount").textContent=ownedSkins.effects.length;id("totalSkins").textContent=ownedSkins.shapes.length+ownedSkins.clockSkins.length+ownedSkins.handSkins.length+ownedSkins.effects.length;updateReverbText();updatePrestigeProgress();}
// === –§–û–†–ú–ê–¢–£–í–ê–ù–ù–Ø –ß–ê–°–£ ===
function formatTime(s){s=Math.floor(s);const u=[{name:"—Ç–∏—Å—è—á–æ–ª—ñ—Ç—Ç—è",v:31536000000},{name:"—Å—Ç–æ–ª—ñ—Ç—Ç—è",v:3153600000},{name:"–¥–µ—Å—è—Ç–∏–ª—ñ—Ç—Ç—è",v:315360000},{name:"—Ä—ñ–∫",v:31536000},{name:"–º—ñ—Å",v:2592000},{name:"–¥–Ω",v:86400},{name:"–≥–æ–¥",v:3600},{name:"—Ö–≤",v:60},{name:"—Å–µ–∫",v:1}];let r=s,p=[];for(const x of u){const a=Math.floor(r/x.v);if(a>0){p.push(`${a} ${x.name}`);r%=x.v;}}return p.length?p.join(" "):`${s} —Å–µ–∫`;}
// === –î–û–°–Ø–ì–ù–ï–ù–ù–Ø ===
let achievementsList=[];
function initAchievements(){achievementsList=[{t:"–ü–µ—Ä—à–∏–π –∫–ª—ñ–∫",desc:"–ó—Ä–æ–±–∏—Ç–∏ –ø–µ—Ä—à–∏–π –∫–ª—ñ–∫",tg:1,g:()=>clickCloudTotal,done:false},{t:"100 —Å–µ–∫",desc:"–í–∏—Ç—Ä–∞—Ç–∏—Ç–∏ 100 —Å–µ–∫",tg:100,g:()=>score,done:false},{t:"–ü–µ—Ä—à–∞ –ø–æ–∫—É–ø–∫–∞",desc:"–ö—É–ø–∏—Ç–∏ –ø–µ—Ä—à–∏–π –∞–ø–≥—Ä–µ–π–¥",tg:1,g:()=>totalUpgradesBought,done:false},{t:"–ê–≤—Ç–æ –∑–∞–ø—É—â–µ–Ω–æ",desc:"–í–∏—Ç—Ä–∞—á–∞—î—à —á–∞—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ",tg:1,g:()=>autoRate>0?1:0,done:false},{t:"–ö–æ–º–±–æ-–º–∞–π—Å—Ç–µ—Ä",desc:"–î–æ—Å—è–≥—Ç–∏ –∫–æ–º–±–æ 10+",tg:10,g:()=>maxComboEver,done:false},{t:"–ú–∞–π—Å—Ç–µ—Ä —Ñ–æ—Ä–º",desc:"–í–æ–ª–æ–¥—ñ—Ç–∏ 3 —Ñ–æ—Ä–º–∞–º–∏ –≥–æ–¥–∏–Ω–Ω–∏–∫–∞",tg:3,g:()=>ownedSkins.shapes.length,done:false},{t:"–ì–æ—Å–ø–æ–¥–∞—Ä —Ä–∞–º–æ–∫",desc:"–í–æ–ª–æ–¥—ñ—Ç–∏ 3 –∫–æ–ª—å–æ—Ä–∞–º–∏ —Ä–∞–º–∫–∏",tg:3,g:()=>ownedSkins.clockSkins.length,done:false},{t:"–ö–æ–ª–µ–∫—Ü—ñ–æ–Ω–µ—Ä —Å—Ç—Ä—ñ–ª–æ–∫",desc:"–í–æ–ª–æ–¥—ñ—Ç–∏ 3 —Å–∫—ñ–Ω–∞–º–∏ —Å—Ç—Ä—ñ–ª–æ–∫",tg:3,g:()=>ownedSkins.handSkins.length,done:false},{t:"–ú–∞–≥ –µ—Ñ–µ–∫—Ç—ñ–≤",desc:"–í–æ–ª–æ–¥—ñ—Ç–∏ 3 –µ—Ñ–µ–∫—Ç–∞–º–∏ –∫–ª—ñ–∫—É",tg:3,g:()=>ownedSkins.effects.length,done:false},{t:"–°—Ç–∏–ª—å–Ω–∏–π",desc:"–ó–º—ñ–Ω–∏—Ç–∏ –±—É–¥—å-—è–∫–∏–π —Å–∫—ñ–Ω",tg:1,g:()=>(current.shape!=="round"||current.clock!=="neon-blue"||current.hand!=="darkblue"||current.effect!=="red")?1:0,done:false}];const achRoot=id("achievements");achievementsList.forEach(a=>{const e=d.createElement("div");e.className="achievement";e.innerHTML=`<strong>${a.t}</strong><div style="font-size:12px;color:#bcd">${a.desc}</div><div class="ach-progress"></div><div class="ach-state">0%</div>`;achRoot.appendChild(e);a.p=e.querySelector(".ach-progress");a.s=e.querySelector(".ach-state");});}
function updateAchievements(){let wasDone=false;achievementsList.forEach(a=>{const v=a.g(),p=Math.min(100,(v/a.tg)*100);a.p.style.width=p+"%";if(p>=100&&!a.done){wasDone=a.done;a.done=true;a.s.textContent="–í–∏–∫–æ–Ω–∞–Ω–æ ‚úÖ";a.s.style.color="#8df299";if(!firstAchievementsCheck)showToast(`–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è: ${a.t} ‚úÖ`);}else if(p<100)a.s.textContent=Math.floor(p)+"%";});if(!wasDone)firstAchievementsCheck=false;}
// === –°–ö–Ü–ù–ò ===
const clockSkins=[{id:"neon-blue",n:"–ù–µ–æ–Ω —Å–∏–Ω—ñ–π",p:0,a:()=>qa('.clock').forEach(c=>{c.style.borderColor="#0ea5e9";c.style.boxShadow="0 0 50px #0ea5e9, 0 0 100px #0ea5e9"})},{id:"purple",n:"–ü—É—Ä–ø—É—Ä–Ω–∏–π",p:64800,a:()=>qa('.clock').forEach(c=>{c.style.borderColor="#8b5cf6";c.style.boxShadow="0 0 50px #8b5cf6, 0 0 100px #8b5cf6"})},{id:"pink",n:"–†–æ–∂–µ–≤–∏–π",p:129600,a:()=>qa('.clock').forEach(c=>{c.style.borderColor="#ec4899";c.style.boxShadow="0 0 50px #ec4899, 0 0 100px #ec4899"})},{id:"black",n:"–ß–æ—Ä–Ω–∏–π",p:259200,a:()=>qa('.clock').forEach(c=>{c.style.borderColor="#111";c.style.boxShadow="0 0 10px #000"})}],shapes=[{id:"round",n:"–ö—Ä—É–≥",p:0},{id:"square",n:"–ö–≤–∞–¥—Ä–∞—Ç",p:28800},{id:"diamond",n:"–†–æ–º–±",p:86400},{id:"oval",n:"–û–≤–∞–ª",p:172800}],handSkins=[{id:"darkblue",n:"–¢–µ–º–Ω–æ-—Å–∏–Ω—ñ",p:0,a:()=>qa(".hand:not(.second)").forEach(h=>{h.style.background="#1e3a8a";h.style.boxShadow="";h.style.animation="none"})},{id:"pixel",n:"–ü—ñ–∫—Å–µ–ª—å–Ω—ñ",p:900,a:()=>qa(".hand:not(.second)").forEach(h=>{h.style.background="linear-gradient(#fff,#aaa)";h.style.boxShadow="";h.style.animation="none"})},{id:"neon",n:"–ù–µ–æ–Ω–æ–≤—ñ",p:9000,a:()=>qa(".hand:not(.second)").forEach(h=>{h.style.background="#0ea5e9";h.style.boxShadow="0 0 25px #0ea5e9, 0 0 60px #0ea5e9";h.style.animation="neonPulse 2s ease-in-out infinite alternate"})},{id:"chrome",n:"–•—Ä–æ–º",p:43200,a:()=>qa(".hand:not(.second)").forEach(h=>{h.style.background="linear-gradient(90deg,#ddd,#888,#ddd)";h.style.boxShadow="0 0 15px #fff, 0 0 30px #aaa";h.style.animation="none"})}],effects=[{id:"red",n:"–ß–µ—Ä–≤–æ–Ω–∏–π —Å–ø–∞–ª–∞—Ö",p:0},{id:"blue",n:"–°–∏–Ω—ñ–π –≤–∏–±—É—Ö",p:21600},{id:"glitch",n:"–ì–ª—ñ—Ç—á",p:108000},{id:"blackhole",n:"–ß–æ—Ä–Ω–∞ –¥—ñ—Ä–∞",p:360000},{id:"ripple",n:"–•–≤–∏–ª—è —á–∞—Å—É",p:720000}];
let ownedSkins={shapes:["round"],clockSkins:["neon-blue"],handSkins:["darkblue"],effects:["red"]},current={shape:"round",clock:"neon-blue",hand:"darkblue",effect:"red"};
function buySkin(t,i,p,n){if(ownedSkins[t].includes(i)){current[t==="shapes"?"shape":t==="clockSkins"?"clock":t==="handSkins"?"hand":"effect"]=i;applyAllSkins();refreshAllSkinGrids();return showToast("–°–∫—ñ–Ω –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ! ‚úÖ")}if(score<p)return showToast("–ù–µ –≤–∏—Å—Ç–∞—á–∞—î —á–∞—Å—É!");score-=p;ownedSkins[t].push(i);current[t==="shapes"?"shape":t==="clockSkins"?"clock":t==="handSkins"?"hand":"effect"]=i;applyAllSkins();updateScore();updateStats();updateAchievements();updatePrestigeProgress();showToast(`–ö—É–ø–ª–µ–Ω–æ: ${n} ‚úÖ`);refreshAllSkinGrids()}
function applyAllSkins(){qa('.clock').forEach(c=>c.className="clock "+current.shape);clockSkins.find(s=>s.id===current.clock)?.a();handSkins.find(s=>s.id===current.hand)?.a()}
function createSkinGrid(ct,ls,t){const r=id(ct);r.innerHTML="";ls.forEach(s=>{const e=d.createElement("div");e.className="skin";e.textContent=s.n;const o=ownedSkins[t].includes(s.id);const a=current[t==="shapes"?"shape":t==="clockSkins"?"clock":t==="handSkins"?"hand":"effect"]===s.id;if(o){e.classList.add("owned");if(a)e.classList.add("active");e.onclick=()=>{current[t==="shapes"?"shape":t==="clockSkins"?"clock":t==="handSkins"?"hand":"effect"]=s.id;applyAllSkins();refreshAllSkinGrids();showToast("–°–∫—ñ–Ω –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ! ‚úÖ")}}else{e.style.opacity="0.4";if(score>=s.p){e.style.opacity="1";e.style.boxShadow="0 0 15px #0ff"}e.innerHTML+=`<br><small style="color:#ff00ff">${formatTime(s.p)}</small>`;e.onclick=()=>buySkin(t,s.id,s.p,s.n)}r.appendChild(e)})}
function refreshAllSkinGrids(){createSkinGrid("shapeSkins",shapes,"shapes");createSkinGrid("clockSkins",clockSkins,"clockSkins");createSkinGrid("handSkins",handSkins,"handSkins");createSkinGrid("effectSkins",effects,"effects")}
function updateSkinHighlights(){[{l:shapes,t:"shapes",c:"shapeSkins"},{l:clockSkins,t:"clockSkins",c:"clockSkins"},{l:handSkins,t:"handSkins",c:"handSkins"},{l:effects,t:"effects",c:"effectSkins"}].forEach(obj=>{const ct=id(obj.c);if(!ct)return;Array.from(ct.children).forEach((el,i)=>{const s=obj.l[i],o=ownedSkins[obj.t].includes(s.id);if(!o){if(score>=s.p){el.style.opacity="1";el.style.boxShadow="0 0 15px #0ff"}else{el.style.opacity="0.4";el.style.boxShadow=""}el.innerHTML=s.n+`<br><small style="color:#ff00ff">${formatTime(s.p)}</small>`}else{el.style.opacity="1";el.style.boxShadow="";el.innerHTML=s.n}})})}
function initSkins(){refreshAllSkinGrids();applyAllSkins();}
// === –ì–û–î–ò–ù–ù–ò–ö ===
function updateClockHands(){const n=new Date();let s=n.getSeconds()+n.getMilliseconds()/1000,m=n.getMinutes()+s/60,h=(n.getHours()%12||12)+m/60;if(reverseClockHands){s=60-s;m=60-m;h=12-h;if(h<=0)h+=12;}qa("#clickableClock .second").forEach(x=>x.style.transform=`translateX(-50%) rotate(${s*6}deg)`);qa("#clickableClock .minute").forEach(x=>x.style.transform=`translateX(-50%) rotate(${m*6}deg)`);qa("#clickableClock .hour").forEach(x=>x.style.transform=`translateX(-50%) rotate(${h*30}deg)`);}
// === –°–ò–°–¢–ï–ú–ê –ü–ï–†–ï–ó–ê–ü–£–°–ö–£ ===
function updatePrestigeProgress(){currentPrestigeProgress=score;const pB=id('prestigeProgressBar'),pT=id('prestigeProgressText'),pP=Math.min(100,(currentPrestigeProgress/prestigeThreshold)*100);if(pB){pB.style.width=pP+'%';pB.style.background=pP>=100?'linear-gradient(90deg, #10b981, #34d399)':pP>=50?'linear-gradient(90deg, #f59e0b, #fbbf24)':'linear-gradient(90deg, #ef4444, #f87171)';}if(pT)pT.textContent=`${formatTime(currentPrestigeProgress)} / ${formatTime(prestigeThreshold)}`;updateReverbButtonState();}
function updateReverbButtonState(){const c=currentPrestigeProgress>=prestigeThreshold;reverbBtn.disabled=!c;reverbBtn.style.opacity=c?'1':'0.6';reverbBtn.style.cursor=c?'pointer':'not-allowed';reverbBtn.style.background=c?'linear-gradient(90deg, #10b981, #34d399)':'linear-gradient(90deg, #6b7280, #9ca3af)';}
function updateReverbText(){nextMultiplierEl.textContent=(prestigeMultiplier*1.2).toFixed(2);const rD=id('reverbDesc');if(rD)rD.textContent=`–ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É: ${formatTime(prestigeThreshold)}`;}
// === –°–ò–°–¢–ï–ú–ê –ï–§–ï–ö–¢–£ –ü–ï–†–ï–ó–ê–ü–£–°–ö–£ ===
const restartEffect={active:!1,clocksInt:null,bubblesInt:null,init(){const e=d.createElement("div");e.id="restartEffectOverlay";e.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;display:none;pointer-events:none;background:transparent;";d.body.appendChild(e);this.clocksContainer=d.createElement("div");this.clocksContainer.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;";this.bubblesContainer=d.createElement("div");this.bubblesContainer.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;";e.appendChild(this.clocksContainer);e.appendChild(this.bubblesContainer);this.completionScreen=d.createElement("div");this.completionScreen.id="reverbCompletionScreen";this.completionScreen.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:10002;display:none;align-items:center;justify-content:center;flex-direction:column;color:white;font-family:Poppins;text-align:center;";this.completionScreen.innerHTML=`<div style="font-size:32px;margin-bottom:20px;text-shadow:0 0 20px #0ea5e9">–í–∏ —É—Å–ø—ñ—à–Ω–æ –ø–æ–≤–µ—Ä–Ω—É–ª–∏—Å—è –≤ —á–∞—Å—ñ!</div><div style="font-size:24px;margin-bottom:20px">–í–∞—à –º–Ω–æ–∂–Ω–∏–∫: ${prestigeMultiplier.toFixed(2)}√ó</div><div style="font-size:18px;color:#cfeaff">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –±—É–¥—å-–¥–µ —â–æ–± –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏</div>`;d.body.appendChild(this.completionScreen);},start(){this.active=!0;id("restartEffectOverlay").style.display="block";this.clocksContainer.innerHTML="";this.bubblesContainer.innerHTML="";this.clocksInt=setInterval(()=>this.createFlyingClock(),300);this.bubblesInt=setInterval(()=>this.createStatBubble(),1200)},stop(){this.active=!1;clearInterval(this.clocksInt);clearInterval(this.bubblesInt);id("restartEffectOverlay").style.display="none"},showCompletionScreen(){reverbOverlay.classList.add("hidden");id("restartEffectOverlay").style.display="none";timeTunnel.classList.remove("active","intense");this.completionScreen.style.display="flex";},hideCompletionScreen(){this.completionScreen.style.display="none"},createFlyingClock(){const e=d.createElement("div");e.className="flying-clock";const t=80+100*Math.random();e.style.width=e.style.height=t+"px";e.style.left=Math.random()*100+"%";e.style.top=Math.random()*100+"%";e.style.animationDuration=4+6*Math.random()+"s";e.style.animationDelay=0.5*Math.random()+"s";Math.random()>0.5&&(e.style.transform="scaleX(-1)");this.clocksContainer.appendChild(e);setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},1e4)},createStatBubble(){const e=d.createElement("div");e.className="stat-bubble";const t=[`–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∫–æ–º–±–æ: ${maxComboEver||0}`,`–í–∏—Ç—Ä–∞—á–µ–Ω–æ —á–∞—Å—É: ${formatTime(clickCloudTotal)}`,`–†–µ–≤–µ—Ä–±—ñ–≤: ${totalReverbs}`,`–í—Å—å–æ–≥–æ —Å–∫—ñ–Ω—ñ–≤: ${(ownedSkins.shapes.length+ownedSkins.clockSkins.length+ownedSkins.handSkins.length+ownedSkins.effects.length)||0}`,`–ê–≤—Ç–æ—á–∞—Å/—Å–µ–∫: ${formatTime(autoRate)}`,`–ú–∞–∫—Å –∑–∞ –∫–ª—ñ–∫: ${formatTime(maxPerClick)}`,`–î–æ—Å—è–≥–Ω–µ–Ω—å: ${(achievementsList.filter(e=>e.done).length)}/${achievementsList.length}`];e.textContent=t[Math.floor(Math.random()*t.length)];e.style.left=10+80*Math.random()+"%";e.style.top=20+60*Math.random()+"%";this.bubblesContainer.appendChild(e);setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},4e3)}};
// === –†–ï–í–ï–†–ë –°–ò–°–¢–ï–ú–ê ===
function initReverbSystem(){restartEffect.init();reverbBtn.addEventListener("click",()=>{if(!confirm("–¢–∏ –≤–ø–µ–≤–Ω–µ–Ω–∏–π, —â–æ —Ö–æ—á–µ—à –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —á–∞—Å –Ω–∞–∑–∞–¥? –í—Å—ñ —Ç–≤–æ—ó –∞–ø–≥—Ä–µ–π–¥–∏ –±—É–¥—É—Ç—å –≤—Ç—Ä–∞—á–µ–Ω—ñ, –∞–ª–µ —Ç–∏ –æ—Ç—Ä–∏–º–∞—î—à –º–Ω–æ–∂–Ω–∏–∫!"))return;startReverbMode();});}
function startReverbMode(){reverbOverlay.classList.remove("hidden");timeTunnel.classList.add("active");reverbHint.style.opacity="1";isReverbActive=1;reverbClock.className=`clock ${current.shape}`;clockSkins.find(s=>s.id===current.clock)?.a();handSkins.find(s=>s.id===current.hand)?.a();updateReverbClockHands();setTimeout(()=>reverbHint.style.opacity="0",3000);}
function updateReverbClockHands(){if(!isReverbActive)return;const e=qa("#reverbClock .hand");if(e.length===0)return;if(reverbClock.classList.contains("reverb-chaos")){requestAnimationFrame(updateReverbClockHands);return;}const t=new Date(),o=t.getSeconds()+t.getMilliseconds()/1000,n=t.getMinutes()+o/60,a=(t.getHours()%12||12)+n/60;qa("#reverbClock .second").forEach(e=>e.style.transform=`translateX(-50%) rotate(${o*6}deg)`);qa("#reverbClock .minute").forEach(e=>e.style.transform=`translateX(-50%) rotate(${n*6}deg)`);qa("#reverbClock .hour").forEach(e=>e.style.transform=`translateX(-50%) rotate(${a*30}deg)`);requestAnimationFrame(updateReverbClockHands);}
const startReverbHold=e=>{if(e.type.includes('touch'))e.preventDefault();if(!isReverbActive)return;reverbHint.style.opacity="0";reverbClock.classList.add("reverb-mode","reverb-chaos");timeTunnel.classList.add("intense");restartEffect.start();qa("#reverbClock .hand").forEach((e,t)=>{const o=0.5+2*Math.random(),n=Math.random()>0.5?"normal":"reverse";e.style.setProperty("--duration",`${o}s`);e.style.setProperty("--direction",n);e.style.animation=`chaosSpin ${o}s linear infinite ${n}`;});reverbHoldTimeout=setTimeout(completeReverb,10000);};
const stopReverbHold=e=>{if(e&&e.type.includes('touch'))e.preventDefault();clearTimeout(reverbHoldTimeout);if(isReverbActive){reverbClock.classList.remove("reverb-mode","reverb-chaos");timeTunnel.classList.remove("intense");qa("#reverbClock .hand").forEach(e=>{e.style.animation="none";e.style.removeProperty("--duration");e.style.removeProperty("--direction");});updateReverbClockHands();restartEffect.stop();}};
reverbClock.addEventListener("mousedown",startReverbHold);reverbClock.addEventListener("touchstart",startReverbHold,{passive:false});
reverbClock.addEventListener("mouseup",stopReverbHold);reverbClock.addEventListener("mouseleave",stopReverbHold);
reverbClock.addEventListener("touchend",stopReverbHold);reverbClock.addEventListener("touchcancel",stopReverbHold);
function completeReverb(){if(currentPrestigeProgress<prestigeThreshold){showToast(`–ü–æ—Ç—Ä—ñ–±–Ω–æ —â–µ ${formatTime(prestigeThreshold-currentPrestigeProgress)}!`);return;}stopReverbHold(new Event('manual'));prestigeThreshold+=7200;prestigeMultiplier*=1.2;totalReverbs++;currentPrestigeProgress=score=clickCloudTotal=currentCombo=0;clickPower=maxPerClick=1;autoRate=totalUpgradesBought=0;upgrades.forEach((e,t)=>{e.l=0;if(buttons[t])buttons[t].classList[t?"add":"remove"]("hidden");e.up();});multipliers.forEach(e=>{if(e.b){e.b=0;clickMultiplier=1;}e.up?.();});const e=d.createElement("div");e.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:white;z-index:10001;pointer-events:none;animation:flashFade 1s ease-out forwards;";d.body.appendChild(e);setTimeout(()=>{e.remove();restartEffect.showCompletionScreen();restartEffect.completionScreen.querySelector("div:nth-child(2)").textContent=`–ú–Ω–æ–∂–Ω–∏–∫: ${prestigeMultiplier.toFixed(2)}√ó`;updateReverbText();const o=()=>{restartEffect.hideCompletionScreen();isReverbActive=0;updateScore();updateStats();updateAchievements();updatePrestigeProgress();d.removeEventListener('click',o);d.removeEventListener('touchstart',o);};d.addEventListener('click',o);d.addEventListener('touchstart',o);},1000);}
// === –°–ò–°–¢–ï–ú–ê –í–ö–õ–ê–î–û–ö ===
function initTabs(){qa(".top-tabs .tab").forEach(b=>{b.addEventListener("click",()=>{qa(".top-tabs .tab").forEach(x=>x.classList.remove("active"));qa(".tab-page").forEach(x=>x.classList.remove("active"));b.classList.add("active");id(b.dataset.tab).classList.add("active");});});}
// === –°–ï–ö–†–ï–¢–ù–ê –°–ò–°–¢–ï–ú–ê ===
function initSecretSystem(){if(!worldTitle)return;worldTitle.addEventListener("keydown",e=>{if(e.key==="Enter")e.preventDefault();});const normalizeTitle=()=>{let t=worldTitle.textContent.trim();if(!t)worldTitle.textContent="Times Clicker";else if(!/\sTime$/i.test(t))worldTitle.textContent=`${t} Time`;};let titleCheckTimeout=null;const checkTitleForSecret=()=>{const t=worldTitle.textContent.trim().replace(/\s+/g,'');if(/^22092005$/i.test(t)){if(!id("ultimateDevPanel")){showToast("22.09.2005 ‚Äî –¥–æ—Å—Ç—É–ø –≤—ñ–¥–∫—Ä–∏—Ç–æ —á–µ—Ä–µ–∑ –Ω–∞–∑–≤—É!");createDevPanel();}if(titleCheckTimeout)clearTimeout(titleCheckTimeout);titleCheckTimeout=null;return;}clearTimeout(titleCheckTimeout);titleCheckTimeout=setTimeout(checkTitleForSecret,800);};worldTitle.addEventListener("blur",()=>{normalizeTitle();checkTitleForSecret();});checkTitleForSecret();let secretCode="",magicCode="22092005";d.addEventListener("keydown",e=>{secretCode+=e.key;if(secretCode.length>8)secretCode=secretCode.slice(-8);if(secretCode===magicCode){secretCode="";showToast("22.09.2005 ‚Äî –¥–æ—Å—Ç—É–ø –≤—ñ–¥–∫—Ä–∏—Ç–æ!");createDevPanel();}});}
function createDevPanel(){if(id("ultimateDevPanel"))return;const p=d.createElement("div");p.id="ultimateDevPanel";p.style.cssText="position:fixed;bottom:20px;left:20px;z-index:99999;background:rgba(0,0,0,0.9);backdrop-filter:blur(12px);border:2px solid #ff00ff;border-radius:14px;padding:12px 16px;box-shadow:0 0 30px #ff00ff;font-family:Poppins,sans-serif;color:#fff;font-size:13px;width:210px;";p.innerHTML='<div style="color:#ff00ff;font-weight:700;text-align:center;margin-bottom:8px;font-size:14px;">–°–µ–∫—Ä–µ—Ç–Ω–∞ –ø–∞–Ω–µ–ª—å</div>';function addBtn(t,c,a){const b=d.createElement("button");b.textContent=t;b.style.cssText="margin:4px 0;padding:8px 12px;width:100%;background:"+c+";border:none;border-radius:10px;color:#fff;font-weight:600;cursor:pointer;font-size:12px;transition:transform 0.2s;";b.onmouseover=()=>b.style.transform="translateY(-2px)";b.onmouseout=()=>b.style.transform="";b.onclick=()=>{a();showToast(t+" OK");};p.appendChild(b);}addBtn("+10 –≥–æ–¥–∏–Ω–∏","#06d6d6",()=>{score+=36000;clickCloudTotal+=36000;updateScore();updateStats();});addBtn("+100 –∞–≤—Ç–æ/—Å–µ–∫","#3b82f6",()=>autoRate+=100);addBtn("√ó2 –ø—Ä–µ—Å—Ç–∏–∂","#a855f7",()=>{prestigeMultiplier*=2;updateStats();});addBtn("–†–µ–≤–µ—Ä–±","#ec4899",()=>completeReverb());addBtn("–ó–∞–∫—Ä–∏—Ç–∏","#555",()=>{p.remove();showToast("–ü–∞–Ω–µ–ª—å –∑–∞–∫—Ä–∏—Ç–∞");});d.body.appendChild(p);}
// === –°–ò–°–¢–ï–ú–ê –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø ===
function saveGame(){updateState();localStorage.setItem('timeClickerSave',JSON.stringify(gameState));showSaveStatus('‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ!','success');}
function loadGame(){let s=localStorage.getItem('timeClickerSave');if(s){try{let l=JSON.parse(s);gameState={...gameState,...l};applyState();return true;}catch(e){console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:',e);}}return false;}
function updateState(){gameState.s=score;gameState.p=clickPower;gameState.a=autoRate;gameState.u=totalUpgradesBought;gameState.m=maxPerClick;gameState.pm=prestigeMultiplier;gameState.tr=totalReverbs;gameState.ma=maxAutoRate;gameState.mc=maxComboEver;gameState.cct=clickCloudTotal;gameState.pt=prestigeThreshold;gameState.cpp=currentPrestigeProgress;gameState.cm=clickMultiplier;gameState.vol=parseInt(id('volumeSlider')?.value)||45;gameState.rev=id('reverseHands')?.checked||false;gameState.anim=!(id('disableAnimations')?.checked||false);gameState.ul=upgrades.map(u=>u.l);gameState.mb=multipliers.map(m=>m.b);}
function applyState(){score=gameState.s;clickPower=gameState.p;autoRate=gameState.a;totalUpgradesBought=gameState.u;maxPerClick=gameState.m;prestigeMultiplier=gameState.pm;totalReverbs=gameState.tr;maxAutoRate=gameState.ma;maxComboEver=gameState.mc;clickCloudTotal=gameState.cct;prestigeThreshold=gameState.pt;currentPrestigeProgress=gameState.cpp;clickMultiplier=gameState.cm;if(id('volumeSlider'))id('volumeSlider').value=gameState.vol||45;if(id('volumeValue'))id('volumeValue').textContent=(gameState.vol||45)+'%';if(player)player.volume=(gameState.vol||45)/100;if(id('reverseHands'))id('reverseHands').checked=gameState.rev||false;reverseClockHands=gameState.rev||false;if(id('disableAnimations'))id('disableAnimations').checked=!(gameState.anim!==false);animationsEnabled=gameState.anim!==false;d.body.classList.toggle('no-animations',!animationsEnabled);if(gameState.ul)for(let i=0;i<upgrades.length;i++)upgrades[i].l=gameState.ul[i]||0;if(gameState.mb)for(let i=0;i<multipliers.length;i++)multipliers[i].b=gameState.mb[i]||false;autoRate=0;upgrades.forEach((u,i)=>{autoRate+=u.l*(i+1)*5*prestigeMultiplier;});let highestMultiplier=1;multipliers.forEach(m=>{if(m.b&&m.m>highestMultiplier)highestMultiplier=m.m;});clickMultiplier=highestMultiplier;updateAllButtons();refreshAllSkinGrids();applyAllSkins();updateScore();updateStats();updatePrestigeProgress();let boughtCount=0;upgrades.forEach(u=>{if(u.l>0)boughtCount++;});buttons.forEach((btn,idx)=>{if(idx>0)btn.classList.add("hidden");});for(let i=0;i<=boughtCount&&i<buttons.length;i++)if(buttons[i])buttons[i].classList.remove("hidden");}
function showSaveStatus(msg,type){let el=id('saveStatus');if(el){el.textContent=msg;el.className='save-status '+(type||'info');setTimeout(()=>{el.textContent='';el.className='save-status';},3000);}}
function exportData(){updateState();let data=btoa(encodeURIComponent(JSON.stringify(gameState)));let area=id('exportImportArea');area.value=data;area.select();document.execCommand('copy');showSaveStatus('üì§ –î–∞–Ω—ñ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä!','success');}
function importData(){let area=id('exportImportArea');if(!area.value.trim()){showSaveStatus('‚ùå –í—Å—Ç–∞–≤—Ç–µ –¥–∞–Ω—ñ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É','error');return;}try{let imported=JSON.parse(decodeURIComponent(atob(area.value)));if(confirm('–¶–µ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ –ø–æ—Ç–æ—á–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å. –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏?')){gameState={...gameState,...imported};applyState();saveGame();showSaveStatus('üì• –î–∞–Ω—ñ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ!','success');}}catch(e){showSaveStatus('‚ùå –ü–æ–º–∏–ª–∫–∞: –Ω–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö','error');}}
function resetProgress(){if(confirm('–í–∏–¥–∞–ª–∏—Ç–∏ –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å? –¶–µ –Ω–µ–∑–≤–æ—Ä–æ—Ç–Ω—å–æ!')){localStorage.removeItem('timeClickerSave');location.reload();}}
// === –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø ===
function initSettings(){const volumeSlider=id('volumeSlider'),volumeValue=id('volumeValue'),reverseHands=id('reverseHands'),disableAnimations=id('disableAnimations');if(!volumeSlider||!volumeValue||!reverseHands||!disableAnimations){setTimeout(initSettings,100);return;}volumeSlider.value=gameState.vol||45;volumeValue.textContent=(gameState.vol||45)+'%';if(player)player.volume=(gameState.vol||45)/100;reverseHands.checked=gameState.rev||false;reverseClockHands=gameState.rev||false;disableAnimations.checked=!(gameState.anim!==false);animationsEnabled=gameState.anim!==false;d.body.classList.toggle('no-animations',!animationsEnabled);volumeSlider.addEventListener('input',function(){let v=this.value;volumeValue.textContent=v+'%';if(player)player.volume=v/100;gameState.vol=v;saveGame();});reverseHands.addEventListener('change',function(){reverseClockHands=this.checked;gameState.rev=reverseClockHands;saveGame();});disableAnimations.addEventListener('change',function(){animationsEnabled=!this.checked;d.body.classList.toggle('no-animations',!animationsEnabled);gameState.anim=animationsEnabled;saveGame();});if(!loadGame())saveGame();}
// === –°–ò–°–¢–ï–ú–ò –ê–ü–ì–†–ï–ô–î–Ü–í ===
// 1. –ï–ö–†–ê–ù –ë–õ–û–ö–£–í–ê–ù–ù–Ø –¢–ï–õ–ï–§–û–ù–£
let phoneLockImages=['photoList/1.jpg','photoList/2.jpg','photoList/3.jpg','photoList/4.jpg','photoList/5.jpg','photoList/6.jpg','photoList/7.jpg','photoList/8.jpg','photoList/9.jpg','photoList/10.jpg'],phoneSwipe={startY:0,endY:0,isSwiping:false,hintTimeout:null};
function showPhoneLockScreen(){const randomIndex=Math.floor(Math.random()*phoneLockImages.length);const lockImage=id('phoneLockImage');lockImage.src=phoneLockImages[randomIndex];const overlay=id('phoneLockOverlay');overlay.style.display='flex';phoneSwipe.startY=0;phoneSwipe.endY=0;phoneSwipe.isSwiping=false;phoneSwipe.hintTimeout=setTimeout(()=>{id('swipeHint').classList.add('show');},10000);setupPhoneSwipeListeners();}
function hidePhoneLockScreen(){const overlay=id('phoneLockOverlay');overlay.style.display='none';id('swipeHint').classList.remove('show');if(phoneSwipe.hintTimeout){clearTimeout(phoneSwipe.hintTimeout);phoneSwipe.hintTimeout=null;}removePhoneSwipeListeners();}
function setupPhoneSwipeListeners(){const lockScreen=id('phoneLockScreen');lockScreen.addEventListener('mousedown',handleSwipeStart);lockScreen.addEventListener('mousemove',handleSwipeMove);lockScreen.addEventListener('mouseup',handleSwipeEnd);lockScreen.addEventListener('mouseleave',handleSwipeCancel);lockScreen.addEventListener('touchstart',handleSwipeStart,{passive:false});lockScreen.addEventListener('touchmove',handleSwipeMove,{passive:false});lockScreen.addEventListener('touchend',handleSwipeEnd);lockScreen.addEventListener('touchcancel',handleSwipeCancel);}
function removePhoneSwipeListeners(){const lockScreen=id('phoneLockScreen');lockScreen.removeEventListener('mousedown',handleSwipeStart);lockScreen.removeEventListener('mousemove',handleSwipeMove);lockScreen.removeEventListener('mouseup',handleSwipeEnd);lockScreen.removeEventListener('mouseleave',handleSwipeCancel);lockScreen.removeEventListener('touchstart',handleSwipeStart);lockScreen.removeEventListener('touchmove',handleSwipeMove);lockScreen.removeEventListener('touchend',handleSwipeEnd);lockScreen.removeEventListener('touchcancel',handleSwipeCancel);}
function handleSwipeStart(e){phoneSwipe.isSwiping=true;phoneSwipe.startY=e.clientY||e.touches[0].clientY;id('swipeHint').classList.remove('show');}
function handleSwipeMove(e){if(!phoneSwipe.isSwiping)return;e.preventDefault();phoneSwipe.endY=e.clientY||e.touches[0].clientY;const deltaY=phoneSwipe.startY-phoneSwipe.endY;if(deltaY>100){handleSuccessfulUnlock();}}
function handleSwipeEnd(){phoneSwipe.isSwiping=false;}
function handleSwipeCancel(){phoneSwipe.isSwiping=false;}
function handleSuccessfulUnlock(){hidePhoneLockScreen();const notification=id('phoneUnlockNotification');notification.classList.add('show');setTimeout(()=>{notification.classList.remove('show');},3000);score+=500;clickCloudTotal+=500;updateScore();}
// 2. RSS –°–ò–°–¢–ï–ú–ê
const rssFeeds=['https://www.ukrinform.ua/rss','https://www.pravda.com.ua/rss/','https://interfax.com.ua/news/general.rss','https://tsn.ua/rss','https://www.bbc.com/ukrainian/index.xml'];let cachedNews=[],lastFetchTime=0,shownNewsUrls=new Set(),newsTickerVisible=false;const CACHE_DURATION=30*60*1000;
async function fetchRSSNews(){if(cachedNews.length>0&&Date.now()-lastFetchTime<CACHE_DURATION)return cachedNews;try{const proxyUrl='https://api.allorigins.win/raw?url=';const randomFeed=rssFeeds[Math.floor(Math.random()*rssFeeds.length)];const response=await fetch(`${proxyUrl}${encodeURIComponent(randomFeed)}`);const text=await response.text();const parser=new DOMParser();const xmlDoc=parser.parseFromString(text,'text/xml');const items=xmlDoc.querySelectorAll('item');const news=[];items.forEach(item=>{const title=item.querySelector('title')?.textContent||'';const description=item.querySelector('description')?.textContent||'';const link=item.querySelector('link')?.textContent||'';const pubDate=item.querySelector('pubDate')?.textContent||'';if(title&&description){const cleanDescription=description.replace(/<[^>]*>/g,'').substring(0,150);news.push({title:title.substring(0,80),text:cleanDescription+'...',source:getSourceName(randomFeed),date:pubDate,link:link});}});cachedNews=news.slice(0,20);lastFetchTime=Date.now();return cachedNews;}catch(e){console.error('RSS error:',e);return getFallbackNews();}}
function getSourceName(url){const sources={'ukrinform.ua':'–£–∫—Ä—ñ–Ω—Ñ–æ—Ä–º','pravda.com.ua':'–£–ü','interfax.com.ua':'–Ü–Ω—Ç–µ—Ä—Ñ–∞–∫—Å','tsn.ua':'–¢–°–ù','bbc.com':'BBC','eurointegration.com.ua':'–Ñ–≤—Ä–æ—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è','radiosvoboda.org':'–†–∞–¥—ñ–æ –°–≤–æ–±–æ–¥–∞','unian.ua':'–£–ù–Ü–ê–ù','dw.com':'DW','rbc.ua':'–†–ë–ö'};for(const[key,value]of Object.entries(sources))if(url.includes(key))return value;return '–ù–æ–≤–∏–Ω–∏';}
function getFallbackNews(){return[{title:"üåç –°–≤—ñ—Ç–æ–≤—ñ –Ω–æ–≤–∏–Ω–∏",text:"–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –Ω–æ–≤–∏–Ω... –û–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Ö–≤–∏–ª–∏–Ω—É.",source:"–°–∏—Å—Ç–µ–º–∞"},{title:"‚ö° –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó",text:"–û—á—ñ–∫—É–π—Ç–µ –Ω–∞–π–Ω–æ–≤—ñ—à—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω—ñ –Ω–æ–≤–∏–Ω–∏ –∑—ñ —Å–≤—ñ—Ç—É...",source:"–û–Ω–æ–≤–ª–µ–Ω–Ω—è"},{title:"üè• –ú–µ–¥–∏—Ü–∏–Ω–∞",text:"–ù–æ–≤—ñ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –≤ –º–µ–¥–∏—Ü–∏–Ω—ñ –±—É–¥—É—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ñ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º...",source:"–û—á—ñ–∫—É–≤–∞–Ω–Ω—è"}];}
async function addNewsToTicker(){try{const news=await fetchRSSNews();if(!news||news.length===0){showToast('–ù–µ–º–∞—î –Ω–æ–≤–∏–Ω üòî');return;}let availableNews=[];for(const item of news){if(!shownNewsUrls.has(item.link)&&item.title&&item.text){availableNews.push(item);if(availableNews.length>=3)break;}}if(availableNews.length===0){shownNewsUrls.clear();availableNews=news.slice(0,3);}const selected=availableNews[Math.floor(Math.random()*availableNews.length)];shownNewsUrls.add(selected.link);const newsTicker=document.getElementById('newsTicker');const newsItem=document.createElement('div');newsItem.className='news-item';let dateStr='';if(selected.date){try{const date=new Date(selected.date);dateStr=date.toLocaleTimeString('uk-UA',{hour:'2-digit',minute:'2-digit',hour12:false});}catch(e){dateStr='—Å—å–æ–≥–æ–¥–Ω—ñ';}}newsItem.innerHTML=`<div class="news-ticker-header"><span class="news-source">${selected.source||'–ù–æ–≤–∏–Ω–∏'}</span>${dateStr?`<span class="news-time">${dateStr}</span>`:''}</div><div class="news-ticker-title">${selected.title}</div><div class="news-ticker-text">${selected.text}</div>`;if(selected.link){newsItem.style.cursor='pointer';newsItem.addEventListener('click',()=>{window.open(selected.link,'_blank');});}newsTicker.appendChild(newsItem);setTimeout(()=>{newsTicker.scrollTop=newsTicker.scrollHeight;},100);const allNews=newsTicker.querySelectorAll('.news-item');if(allNews.length>5)allNews[0].remove();if(!newsTickerVisible)showNewsTicker();}catch(error){console.error('News error:',error);showToast('–ü–æ–º–∏–ª–∫–∞ –Ω–æ–≤–∏–Ω');}}
function showNewsTicker(){document.getElementById('newsTickerContainer').classList.add('show');newsTickerVisible=true;setTimeout(()=>{if(newsTickerVisible)hideNewsTicker();},30000);}
function hideNewsTicker(){document.getElementById('newsTickerContainer').classList.remove('show');newsTickerVisible=false;}
function handleNewsFeedUpgrade(){addNewsToTicker();showToast('–ù–æ–≤–∞ –Ω–æ–≤–∏–Ω–∞ –≤ —Å—Ç—Ä—ñ—á—Ü—ñ! üì∞');}
// 3. –ú–ï–ú-–¢–£–†
let memeImages=['https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif','https://media.giphy.com/media/3o7abAHdYvZdBNnGZq/giphy.gif','https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif','https://media.giphy.com/media/11sBLVxNs7v6WA/giphy.gif','https://media.giphy.com/media/jUwpNzg9IcyrK/giphy.gif','https://media.giphy.com/media/l46Cy1rHbQ92uuLXa/giphy.gif','https://media.giphy.com/media/YQitE4YNQNahy/giphy.gif','https://media.giphy.com/media/l3q2K5jinAlChoCLS/giphy.gif','https://media.giphy.com/media/3o7abBbea7eQz6qJp6/giphy.gif','https://media.giphy.com/media/26tknCqiJrBQG6DrC/giphy.gif'],memeOverlay=null,memeImageEl=null,currentMemeTimeout=null,memeLoadingEl=null,isMemeShowing=false;
function initMemeSystem(){memeOverlay=d.createElement('div');memeOverlay.id='memeOverlay';memeOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:9998;display:none;align-items:center;justify-content:center;flex-direction:column;';memeLoadingEl=d.createElement('div');memeLoadingEl.id='memeLoading';memeLoadingEl.textContent='–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–º—É...';memeLoadingEl.style.cssText='color:white;font-size:18px;margin-bottom:20px;display:none;';memeImageEl=d.createElement('img');memeImageEl.id='memeImage';memeImageEl.style.cssText='max-width:85%;max-height:70%;border-radius:15px;box-shadow:0 0 50px rgba(255,255,255,0.4);object-fit:contain;display:none;';const memeText=d.createElement('div');memeText.textContent='–ú–µ–º-—Ç—É—Ä –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ!';memeText.style.cssText='color:#ffcc00;font-size:20px;margin-top:20px;text-shadow:0 0 10px #ffcc00;';const closeBtn=d.createElement('button');closeBtn.textContent='–ó–∞–∫—Ä–∏—Ç–∏ (–∞–±–æ —á–µ–∫–∞–π 7 —Å–µ–∫)';closeBtn.style.cssText='margin-top:25px;padding:10px 25px;background:#ef4444;color:white;border:none;border-radius:10px;font-size:16px;cursor:pointer;font-weight:bold;';closeBtn.onclick=hideMeme;memeOverlay.appendChild(memeLoadingEl);memeOverlay.appendChild(memeImageEl);memeOverlay.appendChild(memeText);memeOverlay.appendChild(closeBtn);d.body.appendChild(memeOverlay);memeOverlay.addEventListener('click',function(e){if(e.target===memeOverlay)hideMeme();});memeImageEl.onload=function(){memeLoadingEl.style.display='none';memeImageEl.style.display='block';clearTimeout(currentMemeTimeout);currentMemeTimeout=setTimeout(hideMeme,7000);};memeImageEl.onerror=function(){memeLoadingEl.textContent='–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–º—É :(';setTimeout(hideMeme,2000);};}
function showMeme(){if(!memeImageEl)initMemeSystem();if(isMemeShowing){clearTimeout(currentMemeTimeout);memeOverlay.style.display='none';isMemeShowing=false;}const randomIndex=Math.floor(Math.random()*memeImages.length);const memeUrl=memeImages[randomIndex];memeLoadingEl.style.display='block';memeImageEl.style.display='none';memeOverlay.style.display='flex';isMemeShowing=true;memeImageEl.src=memeUrl;}
function hideMeme(){if(memeOverlay)memeOverlay.style.display='none';isMemeShowing=false;clearTimeout(currentMemeTimeout);}
// 4. –ê–í–¢–û–ü–ï–†–ï–ì–õ–Ø–î
let autoplayTimeout=null,autoplayVideos=[{channel:"–£–ª—é–±–ª–µ–Ω—Ü—ñ",views:"1.2M",time:"0:15",thumbnail:"https://picsum.photos/600/340?random=1"},{channel:"–ö—É–ª—ñ–Ω–∞—Ä—ñ—è",views:"850K",time:"0:30",thumbnail:"https://picsum.photos/600/340?random=2"},{channel:"–¢–∞–Ω—Ü—ñ",views:"2.5M",time:"0:25",thumbnail:"https://picsum.photos/600/340?random=3"},{channel:"–§—ñ—Ç–Ω–µ—Å",views:"950K",time:"0:45",thumbnail:"https://picsum.photos/600/340?random=4"},{channel:"–ü—Ä–∏—Ä–æ–¥–∞",views:"3.1M",time:"1:10",thumbnail:"https://picsum.photos/600/340?random=5"},{channel:"–ê–≤—Ç–æ–æ–≥–ª—è–¥",views:"1.8M",time:"0:55",thumbnail:"https://picsum.photos/600/340?random=6"},{channel:"–Ü–≥—Ä–∏",views:"2.2M",time:"12:30",thumbnail:"https://picsum.photos/600/340?random=7"},{channel:"–ö–ª—ñ–ø–∏",views:"4.5M",time:"3:45",thumbnail:"https://picsum.photos/600/340?random=8"}];
function showAutoplay(){const m='ontouchstart'in window||navigator.maxTouchPoints>0;autoplayOverlay=d.createElement('div');autoplayOverlay.id='autoplayOverlay';autoplayOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;background:#0f0f0f;z-index:9997;display:flex;flex-direction:column;font-family:Poppins;color:white;';const h=d.createElement('div');h.style.cssText='display:flex;align-items:center;padding:15px 20px;border-bottom:1px solid #333;background:#202020;';h.innerHTML='<div style="display:flex;align-items:center;gap:10px;"><div style="width:30px;height:30px;background:#ff0000;border-radius:50%;"></div><span style="font-weight:bold;font-size:20px;">–ê–≤—Ç–æ–ø–µ—Ä–µ–≥–ª—è–¥</span></div>';const v=autoplayVideos[Math.floor(Math.random()*autoplayVideos.length)];const c=d.createElement('div');c.style.cssText='flex:1;display:flex;align-items:center;justify-content:center;padding:20px;';c.innerHTML=`<div style="max-width:600px;width:100%;background:#282828;border-radius:15px;overflow:hidden;"><div style="position:relative;"><img src="${v.thumbnail}" style="width:100%;height:340px;object-fit:cover;"><div style="position:absolute;bottom:10px;right:10px;background:rgba(0,0,0,0.8);padding:5px 10px;border-radius:5px;">${v.time}</div><div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:70px;height:70px;background:rgba(255,255,255,0.9);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;">‚ñ∂Ô∏è</div></div><div style="padding:20px;"><div style="font-size:22px;font-weight:bold;margin-bottom:10px;">${v.channel}</div><div style="display:flex;justify-content:space-between;color:#aaa;margin-bottom:20px;"><span>${v.views} –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤</span><span>${v.time}</span></div><div style="background:#3ea6ff;color:white;border:none;padding:12px 25px;border-radius:20px;font-weight:bold;cursor:pointer;text-align:center;margin-bottom:20px;">–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è</div><div style="display:flex;gap:15px;color:#aaa;justify-content:center;"><div style="text-align:center;"><div style="font-size:24px;">üëç</div><div>1.2K</div></div><div style="text-align:center;"><div style="font-size:24px;">üëé</div><div>25</div></div><div style="text-align:center;"><div style="font-size:24px;">üí¨</div><div>348</div></div><div style="text-align:center;"><div style="font-size:24px;">‚Ü™Ô∏è</div><div>–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—å</div></div></div></div></div>`;const cn=d.createElement('div');cn.style.cssText='display:flex;flex:1;';cn.appendChild(c);if(!m){const s=d.createElement('div');s.style.cssText='width:300px;background:#181818;padding:20px;border-left:1px solid #333;';let r='<div style="font-size:18px;margin-bottom:20px;">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:</div>';let sh=[...autoplayVideos].filter(x=>x!==v).sort(()=>0.5-Math.random()).slice(0,4);sh.forEach(x=>{r+=`<div style="display:flex;margin-bottom:15px;background:#282828;border-radius:10px;overflow:hidden;cursor:pointer;"><img src="${x.thumbnail}" style="width:120px;height:70px;object-fit:cover;"><div style="padding:10px;flex:1;"><div style="font-weight:bold;margin-bottom:5px;">${x.channel}</div><div style="font-size:13px;color:#aaa;">${x.views} ¬∑ ${x.time}</div></div></div>`;});s.innerHTML=r;cn.appendChild(s);}const t=d.createElement('div');t.id='autoplayTimer';t.style.cssText='position:fixed;bottom:20px;left:20px;background:rgba(0,0,0,0.8);color:#3ea6ff;padding:10px 20px;border-radius:10px;font-size:16px;';t.textContent='–ù–∞—Å—Ç—É–ø–Ω–µ –≤—ñ–¥–µ–æ —á–µ—Ä–µ–∑: 5 —Å–µ–∫';autoplayOverlay.appendChild(h);autoplayOverlay.appendChild(cn);autoplayOverlay.appendChild(t);d.body.appendChild(autoplayOverlay);let sl=5;autoplayTimeout=setInterval(()=>{sl--;t.textContent=`–ù–∞—Å—Ç—É–ø–Ω–µ –≤—ñ–¥–µ–æ —á–µ—Ä–µ–∑: ${sl} —Å–µ–∫`;if(sl<=0){clearInterval(autoplayTimeout);hideAutoplay();}},1000);}
function hideAutoplay(){if(autoplayOverlay)autoplayOverlay.remove();clearInterval(autoplayTimeout);score+=1500;clickCloudTotal+=1500;showToast("+1500 —Å–µ–∫ –∑–∞ –∞–≤—Ç–æ–ø–µ—Ä–µ–≥–ª—è–¥! üì∫");updateScore();}
// 5. –ü–Ü–î–ü–ò–°–ö–ò
const subscriptionServices=[{name:"YouTube Premium",desc:"–ú—É–∑–∏–∫–∞ –±–µ–∑ —Ä–µ–∫–ª–∞–º–∏",price:"‚Ç¥199/–º—ñ—Å",color:"#FF0000",emoji:"üé¨",link:"https://www.youtube.com/premium"},{name:"Spotify",desc:"–ú—ñ–ª—å–π–æ–Ω–∏ –ø—ñ—Å–µ–Ω—å",price:"‚Ç¨9.99/–º—ñ—Å",color:"#1DB954",emoji:"üéµ",link:"https://www.spotify.com"},{name:"Netflix",desc:"–§—ñ–ª—å–º–∏ —Ç–∞ —Å–µ—Ä—ñ–∞–ª–∏",price:"‚Ç¥239/–º—ñ—Å",color:"#E50914",emoji:"üçø",link:"https://www.netflix.com"},{name:"Disney+",desc:"–î–∏—Ç—è—á—ñ —Ç–∞ —Å—ñ–º–µ–π–Ω—ñ",price:"‚Ç¥159/–º—ñ—Å",color:"#113CCF",emoji:"üè∞",link:"https://www.disneyplus.com"},{name:"Megogo",desc:"–£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç",price:"‚Ç¥129/–º—ñ—Å",color:"#FF6B00",emoji:"üá∫üá¶",link:"https://megogo.net"},{name:"Sweet.TV",desc:"–¢–í –æ–Ω–ª–∞–π–Ω",price:"‚Ç¥149/–º—ñ—Å",color:"#8A2BE2",emoji:"üì∫",link:"https://sweet.tv"},{name:"Google One",desc:"–ú—ñ—Å—Ü–µ –≤ —Ö–º–∞—Ä—ñ",price:"‚Ç¥79/–º—ñ—Å",color:"#4285F4",emoji:"‚òÅÔ∏è",link:"https://one.google.com"}];
function showSubscription(){subscriptionOverlay=d.createElement('div');subscriptionOverlay.id='subscriptionOverlay';subscriptionOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;z-index:9996;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.85);';const s=subscriptionServices[Math.floor(Math.random()*subscriptionServices.length)];const cn=d.createElement('div');cn.style.cssText=`position:relative;max-width:450px;padding:40px;background:${s.color};border-radius:25px;box-shadow:0 25px 70px rgba(0,0,0,0.7);border:5px solid white;`;cn.innerHTML=`<div style="position:absolute;top:15px;right:15px;width:30px;height:30px;background:rgba(255,255,255,0.9);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:bold;cursor:pointer;color:#333;">√ó</div><div style="text-align:center;"><div style="font-size:48px;margin-bottom:20px;">${s.emoji}</div><div style="font-size:32px;font-weight:bold;color:white;margin-bottom:15px;">${s.name}</div><div style="font-size:18px;color:rgba(255,255,255,0.95);margin-bottom:25px;background:rgba(255,255,255,0.15);padding:15px;border-radius:15px;">${s.desc}</div><div style="font-size:28px;font-weight:bold;color:white;margin-bottom:30px;background:rgba(0,0,0,0.2);padding:15px 25px;border-radius:15px;display:inline-block;">${s.price}</div><div style="font-size:16px;color:rgba(255,255,255,0.8);margin-bottom:30px;">–ï–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—è!</div><button id="subscribeBtn" style="background:white;color:${s.color};border:none;padding:18px 40px;border-radius:12px;font-size:20px;font-weight:bold;cursor:pointer;transition:all 0.3s;">–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –∑–∞—Ä–∞–∑</button></div>`;subscriptionOverlay.appendChild(cn);d.body.appendChild(subscriptionOverlay);cn.querySelector('div[style*="position:absolute;top:15px;right:15px"]').onclick=()=>{subscriptionOverlay.style.opacity='0';setTimeout(()=>{if(subscriptionOverlay)subscriptionOverlay.remove();},300);};q('#subscribeBtn').onclick=()=>{if(s.link)window.open(s.link,'_blank');subscriptionOverlay.style.opacity='0';setTimeout(()=>{if(subscriptionOverlay)subscriptionOverlay.remove();},300);};setTimeout(()=>{cn.style.transform='scale(1)';cn.style.opacity='1';},10);cn.style.transform='scale(0.8)';cn.style.opacity='0';cn.style.transition='all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';}
// 6. –°–ï–†–Ü–ê–õ-–ú–ê–†–ê–§–û–ù
let seriesVideos=['rlR4PJn8b8I','4eqxI6C4Wuo','s7L2PVdrb_8','Yx9laSLnaaw','HhesaQXLuRY','5LY_UbnTJls','9GgxinPwAGc','U4K8fZ7kM7o','w3s3kA3nIS8','D4OIPL2LrmU'];
function showSeriesMarathon(){seriesOverlay=d.createElement('div');seriesOverlay.id='seriesOverlay';seriesOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;z-index:9995;background:linear-gradient(135deg,#1a1a2e,#16213e);display:flex;flex-direction:column;align-items:center;justify-content:center;';const cb=d.createElement('div');cb.style.cssText='position:absolute;top:20px;right:20px;width:40px;height:40px;background:rgba(255,255,255,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:white;cursor:pointer;z-index:9997;';cb.innerHTML='√ó';cb.onclick=hideSeriesMarathon;const rv=seriesVideos[Math.floor(Math.random()*seriesVideos.length)];const vc=d.createElement('div');vc.style.cssText='width:90%;max-width:800px;background:rgba(0,0,0,0.7);border-radius:15px;padding:20px;box-shadow:0 15px 50px rgba(0,0,0,0.5);';vc.innerHTML=`<div style="text-align:center;color:white;margin-bottom:15px;font-size:24px;">üé¨ –°–µ—Ä—ñ–∞–ª-–º–∞—Ä–∞—Ñ–æ–Ω</div><div style="position:relative;padding-bottom:56.25%;height:0;"><iframe width="100%" height="100%" src="https://www.youtube.com/embed/${rv}?autoplay=1&mute=0&controls=1&rel=0&modestbranding=1&playsinline=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;border-radius:10px;"></iframe></div><div style="text-align:center;color:#ccc;margin-top:15px;font-size:16px;">–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Ç—Ä–µ–π–ª–µ—Ä —Å–µ—Ä—ñ–∞–ª—É. –ó–∞–∫—Ä–∏–π—Ç–µ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É.</div>`;seriesOverlay.appendChild(cb);seriesOverlay.appendChild(vc);d.body.appendChild(seriesOverlay);setTimeout(()=>{score+=2500;clickCloudTotal+=2500;showToast("+2500 —Å–µ–∫ –∑–∞ —Å–µ—Ä—ñ–∞–ª-–º–∞—Ä–∞—Ñ–æ–Ω! üì∫");updateScore();},8000);}
function hideSeriesMarathon(){if(seriesOverlay)seriesOverlay.remove();}
// 7. –†–û–ë–û–¢–ê –ó –î–ï–î–õ–ê–ô–ù–û–ú
let deadlineOverlay=null,deadlineInterval=null,deadlineClicks=0,deadlineTarget=50,deadlineTime=10,deadlineReached=false;
function showDeadlineWork(){if(deadlineOverlay)deadlineOverlay.remove();deadlineOverlay=d.createElement('div');deadlineOverlay.id='deadlineOverlay';deadlineOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;z-index:9994;background:linear-gradient(135deg,#1a1a2e,#0f3460);display:flex;flex-direction:column;align-items:center;justify-content:center;';const cb=d.createElement('div');cb.style.cssText='position:absolute;top:20px;right:20px;width:40px;height:40px;background:rgba(255,255,255,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:white;cursor:pointer;z-index:9995;';cb.innerHTML='√ó';cb.onclick=hideDeadlineWork;const c=d.createElement('div');c.id='deadlineContainer';c.style.cssText='text-align:center;max-width:600px;padding:30px;background:rgba(0,0,0,0.7);border-radius:20px;box-shadow:0 0 50px rgba(0,0,255,0.5);';const t=d.createElement('div');t.style.cssText='font-size:32px;margin-bottom:20px;color:#4cc9f0;';t.textContent='‚è∞ –†–æ–±–æ—Ç–∞ –∑ –¥–µ–¥–ª–∞–π–Ω–æ–º';const dsc=d.createElement('div');dsc.style.cssText='font-size:20px;margin-bottom:30px;color:#ccc;';dsc.textContent='–ó—Ä–æ–±–∏ 100 –∫–ª—ñ–∫—ñ–≤ –∑–∞ 10 —Å–µ–∫—É–Ω–¥!';deadlineClicks=0;deadlineTime=10;deadlineReached=false;const tm=d.createElement('div');tm.id='deadlineTimer';tm.style.cssText='font-size:80px;font-weight:bold;margin-bottom:20px;color:#ff6b6b;text-shadow:0 0 30px #ff6b6b;animation:pulse 1s infinite;';tm.textContent=deadlineTime;const cd=d.createElement('div');cd.id='deadlineCounter';cd.style.cssText='font-size:40px;margin-bottom:30px;color:#f72585;';cd.textContent=`${deadlineClicks}/${deadlineTarget} –∫–ª—ñ–∫—ñ–≤`;const ca=d.createElement('div');ca.style.cssText='width:200px;height:200px;background:linear-gradient(135deg,#4361ee,#3a0ca3);border-radius:50%;margin:0 auto 30px;display:flex;align-items:center;justify-content:center;font-size:60px;color:white;cursor:pointer;user-select:none;box-shadow:0 10px 30px rgba(0,0,0,0.5);transition:transform 0.1s;';ca.textContent='üëÜ';ca.onclick=function(){if(deadlineTime>0){deadlineClicks++;cd.textContent=`${deadlineClicks}/${deadlineTarget} –∫–ª—ñ–∫—ñ–≤`;ca.style.transform='scale(0.95)';setTimeout(()=>ca.style.transform='scale(1)',100);if(deadlineClicks>=deadlineTarget){cd.style.color='#4ade80';deadlineReached=true;}}};c.appendChild(t);c.appendChild(dsc);c.appendChild(tm);c.appendChild(cd);c.appendChild(ca);deadlineOverlay.appendChild(cb);deadlineOverlay.appendChild(c);d.body.appendChild(deadlineOverlay);if(deadlineInterval)clearInterval(deadlineInterval);deadlineInterval=setInterval(()=>{deadlineTime--;tm.textContent=deadlineTime;if(deadlineTime<=7){tm.style.color='#ff0000';tm.style.animation='pulse 0.5s infinite';}if(deadlineTime<=0){clearInterval(deadlineInterval);setTimeout(()=>completeDeadline(deadlineReached),100);}},1000);}
function completeDeadline(s){const c=id('deadlineContainer');if(!c)return;if(s){c.innerHTML=`<div style="text-align:center;"><div style="font-size:80px;color:#4ade80;margin-bottom:20px;">üéâ‚úÖ</div><div style="font-size:32px;color:white;margin-bottom:20px;">–£—Å–ø—ñ—Ö! –î–µ–¥–ª–∞–π–Ω –≤–∏–∫–æ–Ω–∞–Ω–æ!</div><div style="font-size:24px;color:#a7f3d0;margin-bottom:30px;">–¢–∏ –∑—Ä–æ–±–∏–≤ ${deadlineClicks} –∫–ª—ñ–∫—ñ–≤ –∑–∞ 10 —Å–µ–∫—É–Ω–¥!</div><div style="font-size:20px;color:#bbf7d0;">+5000 —Å–µ–∫—É–Ω–¥ –¥–æ–¥–∞–Ω–æ –¥–æ —Ä–∞—Ö—É–Ω–∫—É!</div></div>`;setTimeout(()=>{hideDeadlineWork();score+=5000;clickCloudTotal+=5000;showToast("+5000 —Å–µ–∫ –∑–∞ —É—Å–ø—ñ—à–Ω–∏–π –¥–µ–¥–ª–∞–π–Ω! ‚è∞‚úÖ");updateScore();},2000);}else{c.innerHTML=`<div style="text-align:center;"><div style="font-size:80px;color:#f87171;margin-bottom:20px;">üòî‚è∞</div><div style="font-size:32px;color:white;margin-bottom:20px;">–ù–µ –≤—Å—Ç–∏–≥...</div><div style="font-size:24px;color:#fecaca;margin-bottom:30px;">–¢–∏ –∑—Ä–æ–±–∏–≤ –ª–∏—à–µ ${deadlineClicks} –∫–ª—ñ–∫—ñ–≤ –∑ ${deadlineTarget}</div><div style="font-size:20px;color:#fecaca;">+2500 —Å–µ–∫—É–Ω–¥ –¥–æ–¥–∞–Ω–æ –¥–æ —Ä–∞—Ö—É–Ω–∫—É (50% –±–æ–Ω—É—Å—É)</div></div>`;setTimeout(()=>{hideDeadlineWork();score+=2500;clickCloudTotal+=2500;showToast("+2500 —Å–µ–∫ –∑–∞ —Å–ø—Ä–æ–±—É –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥–µ–¥–ª–∞–π–Ω üòî");updateScore();},2000);}}
function hideDeadlineWork(){if(deadlineOverlay){deadlineOverlay.remove();deadlineOverlay=null;}if(deadlineInterval){clearInterval(deadlineInterval);deadlineInterval=null;}}
// 8. –ñ–ò–¢–¢–Ñ–í–ò–ô –ö–†–Ü–ù–ñ
let cringeOverlay=null,cringeMessages=['–¢–≤—ñ–π –±–∞—Ç—å–∫–æ –¥–∏–≤–∏—Ç—å—Å—è —Ç–≤–æ—é —ñ—Å—Ç–æ—Ä—ñ—é –ø–æ—à—É–∫—É...','–¢–∏ —Å–∫–∞–∑–∞–≤ "–¥—è–∫—É—é" –∞–≤—Ç–æ-–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ...','–¢–∏ –≤–∏–ø–∞–¥–∫–æ–≤–æ –Ω–∞–¥—ñ—Å–ª–∞–≤ "–ª—é–±–ª—é" –∫–µ—Ä—ñ–≤–Ω–∏–∫—É...','–í—Å—ñ –ø–æ–±–∞—á–∏–ª–∏ —Ç–≤—ñ–π –µ–∫—Ä–∞–Ω —É Zoom...','–¢–∏ –≤—ñ–¥–ø–æ–≤—ñ–≤ –Ω–µ –Ω–∞ —Ç–æ–π –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...','–ü—Ä–æ–∫–∏–Ω—É–≤—Å—è –∑ —Ä–æ–±–æ—á–æ–≥–æ –¥–∑–≤—ñ–Ω–∫–∞ –Ω–∞ —Å–ø—ñ–∫–µ—Ä—Ñ–æ–Ω—ñ...','–ü–æ–¥—è–∫—É–≤–∞–≤ –≤–æ–¥—ñ—î–≤—ñ, —â–æ –≤–∏–π—à–æ–≤...','–ó–∞—Å–ø—ñ–≤–∞–≤ —É –Ω–∞–≤—É—à–Ω–∏–∫–∞—Ö, –∞ –≤–æ–Ω–∏ –±—É–ª–∏ –≤–∏–º–∫–Ω–µ–Ω—ñ...','–ü—Ä–∏–≤—ñ—Ç–∞–≤ –Ω–µ–∑–Ω–∞–π–æ–º—Ü—è, –¥—É–º–∞–≤—à–∏, —â–æ –∑–Ω–∞–π–æ–º–∏–π...','–ó–∞–ª–∏—à–∏–≤ –≥–æ–ª–æ—Å–æ–≤–µ –Ω–∞ 10 —Ö–≤–∏–ª–∏–Ω –∑ —Ñ–æ–Ω–æ–≤–∏–º–∏ –∑–≤—É–∫–∞–º–∏...'];
function showCringe(){cringeOverlay=d.createElement('div');cringeOverlay.id='cringeOverlay';cringeOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;z-index:9993;background:rgba(0,0,0,0.95);display:flex;align-items:center;justify-content:center;';const msg=cringeMessages[Math.floor(Math.random()*cringeMessages.length)];cringeOverlay.innerHTML=`<div style="max-width:600px;padding:40px;background:linear-gradient(135deg,#7b2cbf,#5a189a);border-radius:25px;text-align:center;box-shadow:0 0 50px rgba(123,44,191,0.7);border:5px solid #9d4edd;"><div style="font-size:48px;margin-bottom:20px;">üò¨</div><div style="font-size:32px;color:white;margin-bottom:20px;">${msg}</div><div style="font-size:18px;color:#e0aaff;margin-bottom:30px;">–¢–∏ –≤—ñ–¥—á—É–≤–∞—î—à –∫—Ä—ñ–Ω–∂? –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!</div><button onclick="hideCringe()" style="background:#ff6d00;color:white;border:none;padding:15px 30px;border-radius:12px;font-size:18px;cursor:pointer;font-weight:bold;">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ (–æ—Ç—Ä–∏–º–∞—Ç–∏ +—Å–µ–∫)</button></div>`;d.body.appendChild(cringeOverlay);}
function hideCringe(){if(cringeOverlay)cringeOverlay.remove();score+=3000;clickCloudTotal+=3000;showToast("+3000 —Å–µ–∫ –∑–∞ –∂–∏—Ç—Ç—î–≤–∏–π –¥–æ—Å–≤—ñ–¥! üòÖ");updateScore();}
// 9. DISCORD-–ú–ê–†–ê–§–û–ù –ó GROQ AI –ß–ï–†–ï–ó –ü–†–û–ö–°–Ü
const GROQ_PROXY_URL='https://script.google.com/macros/s/AKfycbxORS6jEnQPD7wd6zgRdpwt5i9vWPVqPXM1cLk8IByo1fq3z2k43MY_335xKB9LQA-UTw/exec';
async function generateAIResponseGroq(message,context){try{const systemPrompt=`–¢–∏ ‚Äî —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –≥–µ–π–º–µ—Ä. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π 1-2 —Ä–µ—á–µ–Ω–Ω—è–º–∏. –ü–∏—à–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é. –ö–æ–Ω—Ç–µ–∫—Å—Ç: ${context.slice(-2).map(m=>m.message).join(' ')}`;const proxyUrl='https://script.google.com/macros/s/AKfycby6LNp6GAW9kFSuxLF-1gr_zVJgYEtBi4m7pxhOBD3i2BE9X09heBihMCfpw7Q0QjrwUA/exec';const response=await fetch(proxyUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'llama-3.1-8b-instant',messages:[{role:'system',content:systemPrompt},{role:'user',content:message}],max_tokens:100})});if(!response.ok)throw new Error('Proxy error');const data=await response.json();return data.choices?.[0]?.message?.content||getFallback();}catch(e){console.log('AI error, using fallback');return getFallback();}}
function getFallback(){const responses=['–ö—Ä—É—Ç–æ! –Ø —Ç–µ–∂ –ª—é–±–ª—é —ñ–≥—Ä–∏!','–¢–∞–∫, –ø–æ–≥–æ–¥–∂—É—é—Å—å!','–ì–µ–π–º–µ—Ä—Å—å–∫–µ –∂–∏—Ç—Ç—è - –Ω–∞–π–∫—Ä–∞—â–µ!'];return responses[Math.floor(Math.random()*responses.length)];}
function getEnhancedFallbackResponse(message,context){const lc=message.toLowerCase();const responseMap={'–ø—Ä–∏–≤—ñ—Ç':['–ü—Ä–∏–≤—ñ—Ç! –Ø–∫ —Å–ø—Ä–∞–≤–∏? –©–æ –Ω–æ–≤–æ–≥–æ –≤ —ñ–≥—Ä–∞—Ö?','–ó–¥—Ä–∞—Å—Ç—É–π! –°—å–æ–≥–æ–¥–Ω—ñ –≥—Ä–∞–≤ —É CS:GO ‚Äî –∫–ª–∞—Å–Ω–∏–π –º–∞—Ç—á –±—É–≤!','–ü—Ä–∏–≤—ñ—Ç, –±—Ä–∞—Ç–∞–Ω! –ó–∞—Ö–æ–¥—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –≥—Ä–∞—î–º–æ –≤ Dota!'],'—è–∫ —Å–ø—Ä–∞–≤–∏':['–ù–æ—Ä–º–∞–ª—å–Ω–æ, —Ç—ñ–ª—å–∫–∏ —â–æ –≤–∏–π—à–æ–≤ –∑ –º–∞—Ç—á—É –≤ CS:GO! –ê —É —Ç–µ–±–µ?','–ö—Ä—É—Ç–æ! –ì—Ä–∞–≤ —É –Ω–æ–≤—É –≥—Ä—É, –ø–æ—Ç—ñ–º —Ä–æ–∑–∫–∞–∂—É –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ.','–í—Å–µ –¥–æ–±—Ä–µ, –Ω–∞—Ä–µ—à—Ç—ñ –ø—Ä–æ–π—à–æ–≤ —Å–∫–ª–∞–¥–Ω–∏–π —Ä—ñ–≤–µ–Ω—å!'],'–≥—Ä–∞':['–¢–∞–∫, –≥—Ä–∞—é –≤ CS:GO –∫–æ–∂–µ–Ω –¥–µ–Ω—å! –õ—é–±–ª—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ –º–∞—Ç—á—ñ.','–ó–∞—Ä–∞–∑ –∑–∞—Ü—ñ–ø–∏–≤ –Ω–æ–≤—É RPG, –≥—Ä–∞—Ñ—ñ–∫–∞ –ø—Ä–æ—Å—Ç–æ –±–æ–º–±–∞!','–†–µ–∫–æ–º–µ–Ω–¥—É—é —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –Ω–æ–≤—É –≥—Ä—É ‚Äî –≤–æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∞!'],'–¥–æ–ø–æ–º–æ–∂–∏':['–ó–≤—ñ—Å–Ω–æ, —â–æ —Å–∞–º–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ? –ú–æ–∂—É –ø–æ—è—Å–Ω–∏—Ç–∏ –ø—Ä–æ –≥–µ–π–º–ø–ª–µ–π!','–î–æ–ø–æ–º–æ–∂—É –∑ –∑–∞–≤–¥–∞–Ω–Ω—è–º! –Ø –≤ —Ü—ñ–π –≥—Ä—ñ –≤–∂–µ –ø—Ä–æ—Ñ—ñ.','–ü–∏—à–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ—à–µ, —è —Ç–æ–±—ñ —Ä–æ–∑–∫–∞–∂—É –≤—Å–µ, —â–æ –∑–Ω–∞—é!'],'–≥—Ä–∞—î—à':['–ó–∞—Ä–∞–∑ –ø–µ—Ä–µ–≤–∞–∂–Ω–æ –≤ CS:GO, –∞–ª–µ —ñ–Ω–æ–¥—ñ –∑–∞—Ö–æ–¥–∂—É –≤ Minecraft!','–¢—ñ–ª—å–∫–∏ —â–æ –∑–∞–≤–µ—Ä—à–∏–≤ –º–∞—Ç—á —É Dota 2 ‚Äî –ø–µ—Ä–µ–º–æ–≥–ª–∏!','–®—É–∫–∞—é –Ω–æ–≤—É –≥—Ä—É –¥–ª—è –∫–æ–º–ø–∞–Ω—ñ—ó, –º–æ–∂–µ—à —â–æ—Å—å –ø–æ—Ä–∞–¥–∏—Ç–∏?'],'—â–æ —Ä–æ–±–∏—à':['–ì—Ä–∞—é –≤ —ñ–≥—Ä–∏ —Ç–∞ —Å–ø—ñ–ª–∫—É—é—Å—å —É –¥—ñ—Å–∫–æ—Ä–¥—ñ! –ê —Ç–∏?','–ü–ª–∞–Ω—É—é –Ω–æ–≤—É —ñ–≥—Ä–æ–≤—É —Å–µ—Å—ñ—é –Ω–∞ –≤–µ—á—ñ—Ä!','–î–∏–≤–ª—é—Å—å —Å—Ç—Ä—ñ–º–∏ —Ç–∞ –≤–∏–≤—á–∞—é –Ω–æ–≤—ñ —ñ–≥—Ä–æ–≤—ñ —Ç–∞–∫—Ç–∏–∫–∏!']};for(const[keyword,responses]of Object.entries(responseMap)){if(lc.includes(keyword))return responses[Math.floor(Math.random()*responses.length)];}const generalResponses=['–¶—ñ–∫–∞–≤–æ! –†–æ–∑–∫–∞–∂–∏ –±—ñ–ª—å—à–µ –ø—Ä–æ —Ü–µ.','–ß—É–≤ –ø—Ä–æ —Ü–µ, –∞–ª–µ —â–µ –Ω–µ –ø—Ä–æ–±—É–≤–∞–≤. –Ø–∫ —Ç–æ–±—ñ?','–ù–∞ —Ü—é —Ç–µ–º—É –º–æ–∂–Ω–∞ –±–∞–≥–∞—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç–∏! –©–æ —Ç–∏ —Å–∞–º –¥—É–º–∞—î—à?','–ì–µ–π–º–µ—Ä—Å—å–∫–µ –∂–∏—Ç—Ç—è ‚Äî —Ü–µ –∑–∞–≤–∂–¥–∏ —â–æ—Å—å –Ω–æ–≤–µ!'];return generalResponses[Math.floor(Math.random()*generalResponses.length)];}
let discordOverlay=null;
function showDiscord(){const discordMessages=[{u:'User_Pro',m:'–•—Ç–æ –≥—Ä–∞—î –≤ —Ü—é –Ω–æ–≤—É –≥—Ä—É?',t:'12:34',a:'#5865F2'},{u:'GamerGirl',m:'–Ø –ø—Ä–æ–π—à–ª–∞ –∑–∞ 2 –≥–æ–¥–∏–Ω–∏!',t:'12:35',a:'#EB459E'},{u:'StreamerBoy',m:'–°—Ç—Ä—ñ–º–ª—é –∑–∞—Ä–∞–∑, –∑–∞—Ö–æ–¥—å—Ç–µ',t:'12:36',a:'#ED4245'},{u:'Admin',m:'–ù–µ —Å–ø–∞–º—Ç–µ –≤ —á–∞—Ç',t:'12:37',a:'#57F287'},{u:'NoobMaster',m:'–î–æ–ø–æ–º–æ–∂—ñ—Ç—å –∑ –±–æ—Å–æ–º...',t:'12:38',a:'#FEE75C'},{u:'AI_Assistant',m:'–ü—Ä–∏–≤—ñ—Ç! –Ø –®–Ü —á–µ—Ä–µ–∑ –±–µ–∑–ø–µ—á–Ω–∏–π –ø—Ä–æ–∫—Å—ñ!',t:'12:39',a:'#00FFAA'}];const messageHistory=[];function getCurrentTime(){const n=new Date();return`${n.getHours().toString().padStart(2,'0')}:${n.getMinutes().toString().padStart(2,'0')}`;}async function sendAIResponse(userMessage){if(!discordOverlay)return;const aiThinking=d.createElement('div');aiThinking.innerHTML='<div><span style="color:#00FFAA;font-weight:bold;">AI_Assistant</span><span style="color:#72767d;font-size:12px;margin-left:10px;">–ø–∏—à–µ...</span></div><div style="color:#dcddde;font-style:italic;">AI –æ–±—Ä–æ–±–ª—è—î –∑–∞–ø–∏—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å—ñ...</div>';messagesCont.appendChild(aiThinking);messagesCont.scrollTop=messagesCont.scrollHeight;try{const context=messageHistory.slice(-3);const response=await generateAIResponseGroq(userMessage,context);aiThinking.remove();addMessage('AI_Assistant',response,'#00FFAA');}catch(e){aiThinking.remove();addMessage('AI_Assistant','–ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è –∑ AI. –°–ø—Ä–æ–±—É–π –ø—ñ–∑–Ω—ñ—à–µ!','#FF4444');}}function addMessage(u,m,a){const msg=d.createElement('div');msg.style.cssText='margin-bottom:15px;';msg.innerHTML=`<div><span style="color:${a};font-weight:bold;">${u}</span><span style="color:#72767d;font-size:12px;margin-left:10px;">${getCurrentTime()}</span></div><div style="color:#dcddde;">${m}</div>`;messagesCont.appendChild(msg);messagesCont.scrollTop=messagesCont.scrollHeight;messageHistory.push({user:u,message:m});if(messageHistory.length>10)messageHistory.shift();}function sendUserMessage(){if(!input.value.trim())return;const userMessage=input.value;addMessage('–¢–∏',userMessage,'#FFFFFF');sendAIResponse(userMessage);input.value='';}const isMobile='ontouchstart'in window||navigator.maxTouchPoints>0;discordOverlay=d.createElement('div');discordOverlay.id='discordOverlay';discordOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;z-index:9992;background:#36393f;display:flex;';if(isMobile)discordOverlay.style.flexDirection='column';const sidebar=d.createElement('div');sidebar.style.cssText='width:240px;background:#202225;padding:20px;color:white;';if(isMobile){sidebar.style.width='100%';sidebar.style.padding='10px';sidebar.style.display='flex';sidebar.style.gap='15px';sidebar.style.overflowX='auto';sidebar.style.borderBottom='1px solid #333';sidebar.innerHTML='<div style="font-size:16px;color:#7289da;white-space:nowrap;margin-right:15px;">Discord AI</div><div style="color:#b9bbbe;white-space:nowrap;"># –∑–∞–≥–∞–ª—å–Ω–∏–π</div><div style="color:#b9bbbe;white-space:nowrap;"># —ñ–≥—Ä–∏</div><div style="color:#b9bbbe;white-space:nowrap;"># —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó</div>';}else{sidebar.innerHTML='<div style="margin-bottom:30px;font-size:20px;color:#7289da;">Discord AI</div><div style="margin-bottom:15px;color:#b9bbbe;"># –∑–∞–≥–∞–ª—å–Ω–∏–π</div><div style="color:#b9bbbe;"># —ñ–≥—Ä–∏</div><div style="color:#b9bbbe;"># —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó</div>';}const main=d.createElement('div');main.style.cssText='flex:1;padding:20px;color:white;display:flex;flex-direction:column;';if(isMobile){main.style.padding='10px';main.style.height='calc(100% - 60px)';}const messagesCont=d.createElement('div');messagesCont.id='discordMessages';messagesCont.style.cssText='flex:1;overflow-y:auto;margin-bottom:20px;';if(isMobile){messagesCont.style.marginBottom='10px';messagesCont.style.fontSize='14px';}discordMessages.forEach(x=>{addMessage(x.u,x.m,x.a);messageHistory.push({user:x.u,message:x.m});});if(isMobile){messagesCont.querySelectorAll('div').forEach(el=>{if(el.style&&el.style.marginBottom==='15px')el.style.marginBottom='10px';});}const inputCont=d.createElement('div');inputCont.style.cssText='padding:15px;background:#40444b;border-radius:8px;color:#b9bbbe;display:flex;align-items:center;';if(isMobile)inputCont.style.padding='10px';const input=d.createElement('input');input.type='text';input.placeholder='–ù–∞–ø–∏—à–∏ —â–æ—Å—å...';input.style.cssText='flex:1;background:transparent;border:none;outline:none;color:white;font-size:16px;';if(isMobile)input.style.fontSize='14px';input.onkeydown=function(e){if(e.key==='Enter')sendUserMessage();};const sendBtn=d.createElement('button');sendBtn.innerHTML='‚û§';sendBtn.style.cssText='background:#7289da;border:none;border-radius:50%;width:32px;height:32px;color:white;cursor:pointer;margin-left:10px;';if(isMobile){sendBtn.style.width='28px';sendBtn.style.height='28px';sendBtn.style.marginLeft='5px';}sendBtn.onclick=sendUserMessage;const closeBtn=d.createElement('div');closeBtn.style.cssText='position:absolute;top:20px;right:20px;width:40px;height:40px;background:rgba(255,255,255,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:white;cursor:pointer;';if(isMobile){closeBtn.style.top='45px';closeBtn.style.right='10px';closeBtn.style.width='30px';closeBtn.style.height='30px';closeBtn.style.fontSize='20px';}closeBtn.innerHTML='√ó';closeBtn.onclick=hideDiscord;inputCont.appendChild(input);inputCont.appendChild(sendBtn);main.appendChild(messagesCont);main.appendChild(inputCont);discordOverlay.appendChild(sidebar);discordOverlay.appendChild(main);discordOverlay.appendChild(closeBtn);d.body.appendChild(discordOverlay);input.focus();setTimeout(()=>{if(discordOverlay){addMessage('AI_Assistant','–ü—Ä–∏–≤—ñ—Ç! –Ø –®–Ü —á–µ—Ä–µ–∑ –±–µ–∑–ø–µ—á–Ω–∏–π –ø—Ä–æ–∫—Å—ñ. –î–∞–≤–∞–π –ø–æ–±–∞–ª–∞–∫–∞—î–º–æ –ø—Ä–æ —ñ–≥—Ä–∏!','#00FFAA');}},1500);}
function hideDiscord(){if(discordOverlay)discordOverlay.remove();score+=4000;clickCloudTotal+=4000;showToast("+4000 —Å–µ–∫ –∑–∞ Discord-–º–∞—Ä–∞—Ñ–æ–Ω! üí¨");updateScore();}
// 10. REELS –î–û –†–ê–ù–ö–£
let reelsOverlay=null,reelsInterval=null,reelIndex=0,reelsContent=['–ö–æ—Ç–∏–∫ —Ç–∞–Ω—Ü—é—î üê±','–ö—É–ª—ñ–Ω–∞—Ä–Ω–∏–π —Ö–∞–∫ üç≥','–°–º—ñ—à–Ω–∏–π —Ç–∞–Ω–µ—Ü—å üòÇ','–õ–∞–π—Ñ—Ö–∞–∫ –¥–ª—è –¥–æ–º—É üè†','–ú—ñ–Ω—ñ-–º–∞–π—Å—Ç–µ—Ä –∫–ª–∞—Å ‚ú®','–ö–æ–º—ñ—á–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è ü§£','–ú–∏–ª–∏–π —Å–æ–±–∞–∫–∞ üê∂','–ï–ø—ñ—á–Ω–∏–π —Ñ–µ–π–ª ü§¶','–ö—Ä–∞—Å–∏–≤–∏–π –ø–µ–π–∑–∞–∂ üåÑ','–ú—É–∑–∏—á–Ω–∏–π –∫–ª—ñ–ø üéµ'];
function showReels(){reelsOverlay=d.createElement('div');reelsOverlay.id='reelsOverlay';reelsOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;z-index:9991;background:#000;display:flex;flex-direction:column;';const header=d.createElement('div');header.style.cssText='padding:15px;color:white;font-size:20px;text-align:center;border-bottom:1px solid #333;';header.textContent='Reels üì±';const content=d.createElement('div');content.style.cssText='flex:1;display:flex;align-items:center;justify-content:center;color:white;font-size:48px;text-align:center;';content.textContent=reelsContent[reelIndex];const closeBtn=d.createElement('div');closeBtn.style.cssText='position:absolute;top:20px;right:20px;width:40px;height:40px;background:rgba(255,255,255,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:white;cursor:pointer;';closeBtn.innerHTML='√ó';closeBtn.onclick=hideReels;reelsOverlay.appendChild(header);reelsOverlay.appendChild(content);reelsOverlay.appendChild(closeBtn);d.body.appendChild(reelsOverlay);reelsInterval=setInterval(()=>{reelIndex=Math.floor(Math.random()*reelsContent.length);content.textContent=reelsContent[reelIndex];content.style.animation='none';void content.offsetWidth;content.style.animation='reelChange 0.5s ease';},2000);}
function hideReels(){if(reelsOverlay)reelsOverlay.remove();if(reelsInterval)clearInterval(reelsInterval);score+=3500;clickCloudTotal+=3500;showToast("+3500 —Å–µ–∫ –∑–∞ Reels –¥–æ —Ä–∞–Ω–∫—É! üì±");updateScore();}
// 11. –§–Ü–õ–û–°–û–§–°–¨–ö–Ü –†–û–ó–î–£–ú–ò
let philosophyOverlay=null,philosophyQuotes=['"–ß–∞—Å - —Ü–µ –Ω–∞–π—Ü—ñ–Ω–Ω—ñ—à–∏–π —Ä–µ—Å—É—Ä—Å, —Ç–æ–º—É —â–æ –≤—ñ–Ω –æ–±–º–µ–∂–µ–Ω–∏–π." - –ê—Ä—ñ—Å—Ç–æ—Ç–µ–ª—å','"–ú–∏ –Ω–µ –º–∞—î–º–æ –º–∞–ª–æ —á–∞—Å—É, –∞–ª–µ –±–∞–≥–∞—Ç–æ –π–æ–≥–æ –≤—Ç—Ä–∞—á–∞—î–º–æ." - –°–µ–Ω–µ–∫–∞','"–ö—Ä–∞—â–µ —Ç—Ä–∏ –≥–æ–¥–∏–Ω–∏ —Ä–∞–Ω—ñ—à–µ, –Ω—ñ–∂ —Ö–≤–∏–ª–∏–Ω–∞ –∑–∞–ø—ñ–∑–Ω–æ." - –í—ñ–ª—å—è–º –®–µ–∫—Å–ø—ñ—Ä','"–ß–∞—Å –ª–µ—Ç–∏—Ç—å - —Ü–µ –ø–æ–≥–∞–Ω–∞ –Ω–æ–≤–∏–Ω–∞. –•–æ—Ä–æ—à–∞ –Ω–æ–≤–∏–Ω–∞ - –≤–∏ –ø—ñ–ª–æ—Ç —Å–≤–æ–≥–æ —á–∞—Å—É." - –ú–∞–π–∫–ª –ê–ª—å—Ç—à—É–ª–µ—Ä','"–ù–µ –≤–∏—Ç—Ä–∞—á–∞–π—Ç–µ —á–∞—Å, –±–æ —Å–∞–º–µ –∑ –Ω—å–æ–≥–æ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∂–∏—Ç—Ç—è." - –ë–µ–Ω–¥–∂–∞–º—ñ–Ω –§—Ä–∞–Ω–∫–ª—ñ–Ω','"–ú–∞–π–±—É—Ç–Ω—î –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –ø–æ—Å—Ç—É–ø–æ–≤–æ, –∞ –π–¥–µ —Ä–∞–ø—Ç–æ–≤–æ." - –ì–µ–Ω—Ä—ñ –ë–µ—Ä–≥—Å–æ–Ω','"–Ñ–¥–∏–Ω–∏–π —Å–ø–æ—Å—ñ–± –∑—Ä–æ–±–∏—Ç–∏ —á–∞—Å –∂–∏—Ç—Ç—è —è–∫—ñ—Å–Ω–∏–º - —Ü–µ –ø—Ä–∏—Å–≤—è—Ç–∏—Ç–∏ –π–æ–≥–æ —Ç–æ–º—É, —â–æ —Å–ø—Ä–∞–≤–¥—ñ –≤–∞–∂–ª–∏–≤–æ."','"–ß–∞—Å –Ω–µ —á–µ–∫–∞—î –Ω—ñ–∫–æ–≥–æ, –∞–ª–µ –∫–æ–∂–µ–Ω –º–æ–∂–µ –Ω–∞–≤—á–∏—Ç–∏—Å—è –∫–µ—Ä—É–≤–∞—Ç–∏ —Å–≤–æ—ó–º —á–∞—Å–æ–º."'];
function showPhilosophy(){philosophyOverlay=d.createElement('div');philosophyOverlay.id='philosophyOverlay';philosophyOverlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;z-index:9990;background:linear-gradient(135deg,#2c3e50,#4a6491);display:flex;align-items:center;justify-content:center;';const quote=philosophyQuotes[Math.floor(Math.random()*philosophyQuotes.length)];philosophyOverlay.innerHTML=`<div style="max-width:800px;padding:50px;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border-radius:25px;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.5);border:2px solid rgba(255,255,255,0.2);"><div style="font-size:48px;margin-bottom:30px;">üí≠</div><div style="font-size:28px;color:white;margin-bottom:30px;font-style:italic;line-height:1.4;">${quote}</div><div style="font-size:18px;color:#e0e0e0;margin-bottom:40px;">–ú—É–¥—Ä—ñ—Å—Ç—å –ø–æ–∫–æ–ª—ñ–Ω—å –ø—Ä–æ —á–∞—Å...</div><button onclick="hidePhilosophy()" style="background:transparent;color:white;border:2px solid white;padding:15px 40px;border-radius:25px;font-size:18px;cursor:pointer;transition:all 0.3s;">–ü—Ä–∏–π–Ω—è—Ç–∏ –º—É–¥—Ä—ñ—Å—Ç—å</button></div>`;d.body.appendChild(philosophyOverlay);}
function hidePhilosophy(){if(philosophyOverlay)philosophyOverlay.remove();score+=6000;clickCloudTotal+=6000;showToast("+6000 —Å–µ–∫ –∑–∞ —Ñ—ñ–ª–æ—Å–æ—Ñ—Å—å–∫—ñ —Ä–æ–∑–¥—É–º–∏! üìö");updateScore();}
// === –ì–õ–û–ë–ê–õ–¨–ù–Ü –§–£–ù–ö–¶–Ü–á –î–õ–Ø –û–í–ï–†–õ–ï–á–í ===
window.hideCringe=hideCringe;window.hidePhilosophy=hidePhilosophy;
// === –ó–ê–ü–£–°–ö –Ü–ù–¢–ï–†–í–ê–õ–Ü–í ===
function startIntervals(){setInterval(updateClockHands,50);updateClockHands();setInterval(()=>{const g=Math.round(autoRate*prestigeMultiplier);if(g>0){score+=g;clickCloudTotal+=g;updateScore();}updateStats();updateAchievements();},1000);setInterval(()=>{if(autoRate>maxAutoRate)maxAutoRate=autoRate;if(maxComboEver>maxCombo)maxCombo=maxComboEver;},1000);setInterval(updateSkinHighlights,50);}
// === –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø –ü–†–ò –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ü ===
d.addEventListener('DOMContentLoaded',function(){id('desktopBtn')?.addEventListener('click',()=>startGame('desktop'));id('mobileBtn')?.addEventListener('click',()=>startGame('mobile'));});
// === –ú–û–î–ê–õ–¨–ù–ï –í–Ü–ö–ù–û QR-–ö–û–î–£ ===
function openModal(){id('modal').style.display='flex';}
function closeModal(){id('modal').style.display='none';}
